!function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="//s1.url.cn/qqun/pan/clt_filetab/js/",t(0)}([function(e,t,a){"use strict";function n(){navigator.userAgent.indexOf("Mac OS X")>=0?(G.mac=!0,$("#inputSearch").attr("placeholder",""),$("#navTopFolder").attr("data-action","menu.filenum"),$(".refresh-icon").attr("data-action","menu.refresh").click(function(){window.location.reload()})):$("#inputSearch").attr("placeholder","搜索")}function i(){n(),G.info=o.getInfo(),r.init(),d.init(),l.init(),c.init(),f.action(p),"isLocal"===localVersion&&report("offlinePage")}savePoint("start"),window.G={},G.flagThumb=!0,G.flagUploadTemp=!1,G.flagHeightChrome=/chrome\/([2|3]\d)/gi.test(window.navigator.userAgent),G.canOpenFolder=window.external&&window.external.openFolder,G.ifFileExist=window.external&&window.external.isFileExist,G.flagIsVip=!1,G.handler={},G.cMap={},G.pList=[],G.cList=[],G.compList=[],G.selectRow={},G.previewCache={},G.activeElement,G.oldVersion=!1,G.folderVersion=5461,G.nowFolder="/",G.folderNum=0,G.appid=4,G.canCreateFolder=!1,G.mac=!1;var o=a(1),r=a(2),l=(a(3),a(4)),s=(a(5),a(7)),d=a(8),c=(a(11),a(12),a(9),a(10)),f=(a(6),a(13)),p=(s.getParameter("debug"),decodeURIComponent(s.getParameter("webParams")));G.downFast=window.external&&window.external.downloadByXF,G.fileMap=function(){var e=[];return function(){return e[G.module()]=e[G.module()]||{},e[G.module()]}}(),G.folderMap=function(){var e=[];return function(){var t=G.module();return(1===t||2===t||3===t)&&(t=0),e[t]=e[t]||{},e[t]}}(),G.module=function(){var e=0,t={0:"首页",1:"文件夹内",2:"成员文件列表",3:"搜索结果页"};return function(a){return void 0===a?e:t[a]?(3!==a&&$("#inputSearch").val(""),e=a):(console.log("illegal module"),void 0)}}(),G.scrollHandler=function(){var e=[];return function(t){var a=G.module();return t?e[a]=t:(e[a]=e[a]||function(){},e[a](),void 0)}}(),G.checkHttps=function(){var e=location.href;return e.indexOf("https://")>=0?!0:!1},G.getReportInfo=function(e){if(1===e.orcType){var t=1===G.module()?1:0,a=$("#"+e.domid),n=a.attr("idx"),i=t;"undefined"!=typeof n&&(i+="_"+n);var o=e.uin===G.info.uin?1:2;return{ver1:e.isDown?1:2,ver2:G.info.isAdmin?1:2,ver3:o,ver4:encodeURIComponent(e.fname),ver5:encodeURIComponent(e.filetype),ver6:i}}if(2===e.orcType){var t=0,a=$("#"+e.domid),n=a.attr("idx"),r=t;"undefined"!=typeof n&&(r+="_"+n);var o=G.info.uin===e.uin?1:2;return{ver1:e.filenum===e.downNum?1:2,ver2:G.info.isAdmin?1:2,ver3:o,ver4:encodeURIComponent(e.name),ver5:r}}return!1},i()},function(e,t,a){"use strict";function n(){var e=i.getUin(),t=i.getParameter("gid"),a=function(){var a="refresh_"+e+"_"+t;return 1*i.getCookie(a)?(i.getCookie(a),!0):!1}();/^\d+$/.test(t)||(t=parseInt(t,10),isNaN(t)&&(t="0"));var n=i.getParameter("visitor"),r="1"===n,l=o.getVersion().version,s={uin:parseInt(e),gc:parseInt(t),isVisitor:r,nickName:o.getNickName(e),fromRefresh:a,version:l};return s}var i=a(7),o=a(32);e.exports={getInfo:n}},function(e){"use strict";function t(){return f||(f="lp"+G.info.gc+"-"+G.info.uin),u||(u="tips"+G.info.gc+"-"+G.info.uin),p||(p="clist"+G.info.gc+"-"+G.info.uin),f}function a(e){try{v.setItem(u,e)}catch(t){v.clear(),v.setItem(u,e)}}function n(){return v.getItem(u)}function i(e){h[e.filepath]=e.localpath,m.push(e);try{v.setItem(f,JSON.stringify(h)),v.setItem(p,JSON.stringify(m))}catch(t){v.clear(),v.setItem(f,JSON.stringify(h)),v.setItem(p,JSON.stringify(m))}}function o(e){1===e.orcType?delete h[e.filepath]:delete h[e.id];try{v.setItem(f,JSON.stringify(h))}catch(t){v.clear(),v.setItem(f,JSON.stringify(h))}}function r(e){return h[e]||!1}function l(e){var t=arguments.length<=1||void 0===arguments[1]?"push":arguments[1];"push"===t?m.push(e):"delete"===t&&(m=m.filter(function(t){return e.localpath!==t.localpath}));try{v.setItem(p,JSON.stringify(m))}catch(a){v.clear(),v.setItem(p,JSON.stringify(m))}}function s(){var e=v.getItem(p);if(null===e)return!1;try{return JSON.parse(e)}catch(t){return!1}}function d(){v.removeItem(p)}function c(){f=t();var e=v.getItem(f);e&&(h=JSON.parse(e))}var f=void 0,p=void 0,u=void 0,m=[],v=window.localStorage,h={};e.exports={set:i,remove:o,check:r,init:c,setTips:a,getTips:n,clearClist:d,getClist:s,setClist:l}},function(e,t,a){"use strict";a(39)},function(e,t,a){"use strict";function n(){for(var e in o)o.hasOwnProperty(e)&&c.bind("box."+e,o[e])}function i(){var e=d.getTaskListAdv(),t=l.getClist();if(G.pList=s.cleanMap(e.map),G.compList=t,G.compList)for(var a=0,i=G.compList.length;i>a;a++){var o=G.compList[a],c=r.getData(o.filepath);c||(o.id=o.filepath,r.addData(o))}n()}var o=(a(27),a(28),a(29)),r=a(30),l=a(2),s=a(31),d=a(32),c=$(G.handler);window.client=d,e.exports={init:i}},function(e,t,a){"use strict";function n(e,t){var a=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(G.mac)"fail"===e&&c.alert(2,"提示",t);else{if(o)r.attr("class","icons-"+f[e]+" toast-icon"),l.text(t);else{var n={cls:f[e],text:t},d=s(n);$("body").append(d),o=$("#toastDom"),r=o.find(".toast-icon"),l=o.find(".toast-message")}o.addClass("open"),a&&setTimeout(function(){i()},1e3)}}function i(){o&&o.removeClass("open")}var o,r,l,s=a(109),d=(a(7),$(G.handler)),c=a(32),f={fail:"fail",wait:"wait",suc:"suc",alert:"new-alert"};d.bind("toast.show",function(e,t){t&&t.type&&t.text&&n(t.type,t.text,t.autoHide)}),d.bind("toast.hide",function(){i()}),e.exports={show:n,hide:i}},function(e,t,a){"use strict";function n(){if("/"!==G.nowFolder&&G.mac)return G.info.isAdmin?$("#createFolder").show():$("#box").addClass("one"),void 0;_.text(G.file.allnum).attr("aria-label","共"+G.file.allnum+"个文件"),$("#macFileNums").text("共"+G.file.allnum+"个文件");var e=parseInt(G.file.cu/G.file.ct*100);j.css("width",e+"%"),G.file.capacityused?C.text(G.file.capacityused+"/"+G.file.capacitytotal):C.text("未知/未知"),"/"===G.nowFolder&&$("#fileNum").removeClass("hide"),G.info.isAdmin?$("#createFolder").show():$("#box").addClass("one")}function i(){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t=!0;return function(a){g(!0);var i=O();if(!a||0===a.file.length&&0===a.folder.length)return o(),n(),t=!1,void 0;M=!1,G.info.isVisitor&&(e.actionHide=!0);var r=b({list:a.file,renderParams:e}),l=b({list:a.folder,renderParams:e});if(t)n(),t=!1,i.html(l),i.append(r);else{var s=$(".fold").last();s.length>0?s.after(l):i.append(l),i.append(r)}if(i.find(".list-item").each(function(e){this.setAttribute("idx",e)}),!window._timePoints.show){savePoint("show");var d={20:window._timePoints.css,21:window._timePoints.zepto,22:window._timePoints.js,23:window._timePoints.start};"isLocal"===localVersion?d[25]=window._timePoints.show:"undefined"!=typeof nodeCost?d[26]=window._timePoints.show:d[24]=window._timePoints.show,QReport.huatuo({appid:10016,flag1:1772,flag2:1,flag3:1,speedTime:d})}}}function o(){var e=G.getDomPanel();if(!e.find(".list-item").length){var t=y();e.html(t)}}function r(e){if("/"===G.nowFolder){var t=b({list:[e]});0===S.find(".icons-empty").length?S.prepend(t):S.html(t)}}function l(e){if(e)if(e.domid){var t=e.domid;F.removeEase($("#"+t))}else if(e.id){var t=e.id;F.removeEase($("[data-path="+t+"]"))}setTimeout(o,500)}function s(e){var t=G.getDomPanel(),a=t.find(".fold").last(),n=b({list:[e]});G.info.version<G.folderVersion?"/"===e.parentId&&"/"===G.nowFolder&&(a.length?a.after(n):t.prepend(n)):a.length?a.after(n):"/"!==G.folder&&0===t.find(".icons-empty").length?t.prepend(n):t.html(n),D.renderSpace()}function d(e){var t=$("#folder"+e.folderid),a=b({list:[e]});t.prepend(a)}function c(e){if(e){var t=e.domid;console.log(t),F.removeEase($("#"+t))}setTimeout(o,500)}function f(e){2===e.orcType?l(e):c(e)}function p(e,t){w.setAllSpace(function(t){u(),e&&e(t)},t)}function u(){if("/"===G.nowFolder){C.text(G.file.capacityused+"/"+G.file.capacitytotal),$("#fileNumText").text(G.file.allnum),$("#macFileNums").text("共"+G.file.allnum+"个文件"),G.file.capacitytotal?$("#ariaSpace").attr("aril-label","已用容量"+G.file.capacityused+"共"+G.file.capacitytotal):$("#ariaSpace").attr("aril-label","已用容量未知G,共未知G");var e=parseInt(G.file.cu/G.file.ct*100);j.css("width",e+"%"),$("#fileNum").removeClass("hide")}}function m(e){var t=e||{},a=t.container||"#folderOrSearchResult",n=t.succ,o=t.searchParams||{},r=JSON.stringify(o);void 0==G.searchFuncSingtons[r]&&(G.searchFuncSingtons[r]=x.search(o)),G.searchFuncSingtons[r](function(e){void 0==G.renderListFuncSingtons[folderId]&&(G.renderListFuncSingtons[folderId]=i(a)),G.renderListFuncSingtons[folderId](e),n&&n(e)},function(){})}function v(e){I(e)(),L(),G.file&&G.file.ct||p()}function h(e){var t=void 0;if(1===e.orcType)t=$('.list-item[data-path="'+e.filepath+'"]'),t.find(".downloadtime").text(e.down+"次下载");else{if(t=$("#"+e.domid),e.toFirst)return t.remove(),r(e),void 0;t=$("#"+e.domid),e.filenum&&t.find(".file-size").text(e.filenum+"个文件").attr("title",e.filenum+"个文件"),t.find(".uploadtime").text(e.mtStr+" 更新").attr("title",e.mtStr+" 更新")}if("downloadcomplete"!==e.status&&t.find(".name").html(e.name),"uploadcomplete"===e.status||"downloadcomplete"===e.status){t.addClass("succ");var a="打开";G.mac&&(a=""),t.find(".btn-left").removeClass("downing").addClass("open").html('<i class="open"></i>'+a),1===e.orcType&&t.find(".btn-left").attr("data-action","file.openFolder")}else if(e.isDown||e.isDowning)e.isDowning&&(G.mac?t.find(".btn-left").addClass("downing"):t.find(".btn-left").addClass("downing").html("下载中"));else{if(1===e.orcType){var a="下载";G.mac&&(a=""),t.find(".btn-left").attr("data-action","file.download").removeClass("open").addClass("down").html('<i class="down"></i>'+a)}t.removeClass("succ")}}function g(e){N||($("body").append('<div class="loader" id="loaderDom"><div class="loading"></div></div>'),N=$("#loaderDom")),e?N.removeClass("open"):N.addClass("open")}var w=a(65),b=a(110),y=a(111),x=a(38),k=a(30),F=a(7),T=a(29),S=$("#fileListDom"),_=$("#fileNumText"),C=$("#groupSize"),j=$("#groupSizeBar"),D=a(66),R=$(G.handler),M=!0,N=void 0;G.renderListFuncSingtons={},G.getListFuncSingtons={},G.searchFuncSingtons={},R.bind("file.thumbUpdate",function(e,t){var a=$("#"+t.domid);a.length&&t.previewObj&&t.previewObj.url&&!function(){var e=t.previewObj.url+"&pictype=scaled&size=50*50",n=new Image;n.onload=function(){a.find(".files-pic").css("background-image","url("+e+")").addClass("thumb")},n.onerror=function(){console.log("缩略图加载失败!",e)},n.src=e,report("imgurl")}()}),R.bind("file.dataUpdate",function(e,t){var a=$("#"+t.domid);1===t.remoteType&&a.removeClass("temp"),t.newFilePath&&a.attr("data-path",t.newFilePath),a.find(".file-info .name").text(t.fnameEsc)});var O=function(){var e=G.module(),t=function(e){return'<section class="file-list" id="'+e+'"></section>'},a=function(){var e=k.getData(G.nowFolder),a=e.domid,n=$("#list"+a);return n.length>0?n:(S.after(t("list"+a)),n=$("#list"+a))},n=function(){var e=$("#searchFileDom");return e.length>0?e:(S.after(t("searchFileDom")),e=$("#searchFileDom"))},i=function(){var e=$("#userFileDom");return e.length>0?e:(S.after(t("userFileDom")),e=$("#userFileDom"))};switch($(".file-list").hide(),e){case 0:return S.show();case 1:return a().show();case 3:return n().show();case 2:return i().show()}};G.getDomPanel=O;var L=function(){var e={filterUin:G.info.uin,filterCode:4},t=w.getList(e);t(function(){T.firstRender()},function(){})},I=function(){var e=!1,t=void 0;return function(a){{var n=a||{},o=n.paramsFilter||{},r=n.container||"#fileListDom",l=n.succ;n.fail}e=JSON.stringify(t)!==JSON.stringify(o);var s=t=o;return $("body").attr("data-mode","folder"),"/"!==G.nowFolder?$("body").addClass("folder-module"):$("body").removeClass("folder-module"),G.scrollHandler(function(){(e||void 0==G.getListFuncSingtons[s])&&(G.getListFuncSingtons[s]=w.getList(o)),G.getListFuncSingtons[s](function(t){if((e||void 0==G.renderListFuncSingtons[s])&&(e=!1,G.renderListFuncSingtons[s]=i(r,n.renderParams)),3===o.filterCode)for(var a=t.file,d=a.length-1;d>=0;d--){var c=a[d];c.parentId&&G.folderMap()[c.parentId]&&(t.file[d].folderName=G.folderMap()[c.parentId].fnameEsc)}G.renderListFuncSingtons[s](t),g(!0),l&&l(t)},function(e){if(g(!0),e&&console.log(e),1e3!==e.ec){var t="拉取文件列表失败";M&&(t+=G.mac?"，请稍后重试":'，请稍后<a onclick="window.location.reload();">重试</a>'),R.trigger("toast.show",{type:"fail",text:t,autoHide:!M})}e&&e.fc&&1===e.fc},function(e){return function(){e()}}(g))})}}();e.exports={init:v,appendFold:r,removeFold:l,appendFile:s,appendFileToFolder:d,updateRow:h,search:m,renderSpace:u,removeRow:f,getList:I,renderList:i,showLoad:g,getDomPanel:O}},function(e){"use strict";function t(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}e.exports=function(){function e(e,t){for(var a=0,n=0;n<e.length;n++){var i=e.charAt(n);if(a+=encodeURI(i).length>2?1:.5,a>=t){var o=a==t?n+1:n;return e.substr(0,o)}}return e}function a(e){e&&e.length>0&&(e.addClass("remove-ease"),setTimeout(function(){e.remove()},300))}function n(){for(var e={},t=Object.keys(G.folderMap()),a=t.length-1;a>=0;a--){var n=G.folderMap()[t[a]];n&&(e[n.fnameEsc]=n)}for(var i="新建文件夹",o=1;void 0!==e[i];)i="新建文件夹("+o+")",o++;return i}function i(e,t){t.map(function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")});var a="("+t.join("|")+")",n=e.split(new RegExp(a,"i"));return n}function o(e,t){for(var a=t.length-1;a>=0;a--)t[a]=(""+t[a]).toUpperCase();for(var n=[],a=e.length-1;a>=0;a--)n[a]=-1!==t.indexOf(e[a].toUpperCase())?'<span class="match-word">'+e[a]+"</span>":e[a];return n.join("")}function r(e,t){var a=i(e,t);return o(a,t)}var l=function(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),a=document.cookie.match(t);return a?a[1]:""},s=function(){var e=l("uin");return e?(e+="",e.replace(/^[\D0]+/g,"")):0},d=function(e,t){t=t||location.href;var a=new RegExp("(\\?|#|&)"+e+"=([^&^#]*)(&|#|$)"),n=t.match(a);return decodeURIComponent(n?n[2]:"")},c=function(e){return e+="",e.replace(/^[ 　]*/gi,"")},f=function(e,t){var a=t||3;e+="",e=c(e);var n=e.match(/[^\x00-\xff]/g)||[],i=e.replace(/[^\x00-\xff]/g,"");return parseInt(n.length*a+i.length)},p=function(e,t,a){var n=f(e,3);return t>n||n>a?!1:!0},u=function(e,t){var t=t||10,a=f(e),n=t-a;return n>=0?n:0},m=function(){};window.onerror=function(){};var v=function(e,t){return function(a){var n=arguments.length;if(t&&(a=Object(a)),2>n||null==a)return a;for(var i=1;n>i;i++)for(var o=arguments[i],r=e(o),l=r.length,s=0;l>s;s++){var d=r[s];t&&void 0!==a[d]||(a[d]=o[d])}return a}},h=function(e){var a="undefined"==typeof e?"undefined":t(e);return"function"===a||"object"===a&&!!e},g=function(e){if(!h(e))return[];var t=[];for(var a in e)t.push(a);return t},w=v(g),b=function y(e,t){if(e.length<=1)return e;for(var a=Math.floor(e.length/2),n=e.splice(a,1)[0],i=[],o=[],r=0;r<e.length;r++)e[r]&&(e[r][t]>n[t]?i.push(e[r]):o.push(e[r]));return y(i,t).concat([n],y(o,t))};return{getCookie:l,getUin:s,getParameter:d,getLen:f,changeLen:u,checkLength:p,checkLen:m,extend:w,removeEase:a,subString:e,quickSortByObjectAttr:b,getFolderNameDefault:n,heightLight:r}}()},function(e,t,a){"use strict";function n(){var e=$(this).data("action");if("folder.download"==e&&console.log(this.getBoundingClientRect()),e){var t=p[e];"function"==typeof t&&t.call(this)}else m.trigger("box.hide")}function i(e){var t=$(this).data("keyup");if(t){var a=p[t];"function"==typeof a&&a.call(this,e)}}function o(e){var t=$(this).data("keydown");if(t){var a=p[t];"function"==typeof a&&a.call(this,e)}}function r(e){var t=$(this).data("blur");if(t){var a=p[t];"function"==typeof a&&a.call(this,e)}}function l(){this.inputStart=!0}function s(){var e=this;setTimeout(function(){e.inputStart=!1},200)}function d(e){var t=$(e.target);0===t.parents("#box").length&&"box.toggle"!==t.data("action")&&m.trigger("box.hide")}function c(){var e=$(this).data("focus");if(e){var t=p[e];"function"==typeof t&&t.call(this,event)}}function f(){$(document).on("click","[data-action]",n),$("body").on("click",d),$(document).on("keyup","[data-keyup]",i),$(document).on("keydown","[data-keydown]",o),$(document).on("focus","[data-focus]",c),$(document).on("blur","[data-blur]",r),$(document).on("compositionstart","[data-cstart]",l),$(document).on("compositionend","[data-cend]",s),$("body").on("click",function(e){u["menu.hide"](e.target)}),$(window).on("load",function(){$(".scroll-dom").scroll(function(){var e=$(window),t=e.height(),a=$(".scroll-dom").scrollTop(),n=$(".scroll-dom .file-list:visible").children(".list-item"),i=n.length*n.first().height(),o=30;o+a>=i-t&&G.scrollHandler&&G.scrollHandler()})})}var p=a(33).getHandlerTasks(),u=a(34),m=(a(35),$(G.handler));e.exports={init:f}},function(e,t,a){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e){e=f.extend({selfGroupResultNum:0,otherGroupResultNum:0},e);var t=['<div class="search-empty"><div class="search-icon-dom">','<div class="icons-search-empty"></div>','<span class="empty-desc">很遗憾，','没有找到与"',G.searchKeyword,'"相关的文件</span></div></div>'];0===e.selfGroupResultNum&&0!==e.otherGroupResultNum&&(t[1]="",t[3]="在本群中"+t[3],t[0]='<div id="selfNoResult" class="search-empty"><div>'),0!==e.selfGroupResultNum&&0===e.otherGroupResultNum&&(t[1]="",t=['<div id="otherNoResult" class="search-empty"><div >',"</div></div>"]);var a=t.join("");return a}function o(e){var t=$(".other-group-result-desc");t.prev().find("dl").css("border-bottom-width",e),t.prev().find("div").css("border-bottom-width",e)}function r(){var e=!0,t={dataSelfGroupLen:0,dataOtherGroupLen:0};return function(a,n){var r=G.getDomPanel();if(a&&n){t.dataSelfGroupLen+=a.length,t.dataOtherGroupLen+=n.length;var l=i({selfGroupResultNum:t.dataSelfGroupLen,otherGroupResultNum:t.dataOtherGroupLen}),s=void 0;s=0!==t.dataSelfGroupLen?d({list:a,renderParams:{actionHide:!1,getByUinHide:!1,searchModule:!0},batchMode:!1}):l;var c=d({list:n,renderParams:{actionHide:!0,getByUinHide:!0},batchMode:!1}),f='<div class="other-group-result-desc"><span>其他群搜索结果</span></div>';if(parseInt($("#searchReasult").text())===t.dataSelfGroupLen&&(c=l,f=""),25==t.dataSelfGroupLen&&0===t.dataOtherGroupLen&&(c=""),G.mac&&(f=""),e){report("showSearchRes"),r.html("");var p=[s,f,c],u="100%";if(0===t.dataSelfGroupLen&&0===t.dataOtherGroupLen?p=[l]:0===t.dataSelfGroupLen&&0!==t.dataOtherGroupLen&&(u="200px"),r.html(p.join("")),$(".search-empty").css("height",u).attr("data-len",t.dataSelfGroupLen),o(0),e=!1,0!==t.dataSelfGroupLen&&0===t.dataOtherGroupLen){var m=r.height()-64*t.dataSelfGroupLen-25;200>m&&(m=200),$("#otherNoResult").css("height",m+"px")}}else{var v=$(".other-group-result-desc");if(o("1px"),0===t.dataSelfGroupLen&&(s=""),v.before(s),r.append(c),0!==t.dataSelfGroupLen&&0===t.dataOtherGroupLen){var u=r.height()-64*t.dataSelfGroupLen-25;200>u&&(u=200),$("#otherNoResult").css("height",u+"px")}o(0)}}}}function l(){var e=!1,t=void 0;return function(a,o){var l=G.searchKeyword=$.trim($("#inputSearch").val())||"";(a&&13==a.keyCode||void 0==a)&&""!==l&&(report("doSearch"),$("body").attr("data-mode","search"),G.scrollHandler(function(){var a=G.searchKeyword=$("#inputSearch").val()||"",l={key_word:a};e=3!==G.module()||JSON.stringify(t)!=JSON.stringify(l),G.module(3),t=l;var d=function(t,a){function n(e){function t(e){return e.gc===G.info.gc}function a(e){return e.gc!==G.info.gc}e=e||[];var n={ut:"upload_time",owner_name:"uin_name"},i=function(e){function t(e,t,a){e=e.filter(t);for(var i={},o=e.length-1;o>=0;o--){var r=e[o];i[r.id]=r}for(var l=c.setFileList(e,n),s=l.file,o=s.length-1;o>=0;o--){var d=s[o].fp,r=G.fileMap()["/"+s[o].busid+d],p=i[d].match_word;s[o].name=f.heightLight(r.name,p),s[o].suf=f.heightLight(r.suf,p),a&&(s[o].otherGroupName=i[d].group_name,s[o].gc=i[d].gc)}return s}var a=arguments.length<=1||void 0===arguments[1]?{filters:{selfGroupFilter:function(){},otherGroupFilter:function(){}}}:arguments[1],i={selfGroupResult:t(e,a.filters.selfGroupFilter),otherGroupResult:t(e,a.filters.otherGroupFilter,!0)};return i};return i(e,{filters:{selfGroupFilter:t,otherGroupFilter:a}})}console.log(a),(e||void 0==G.renderListFuncSingtons[a])&&(G.renderListFuncSingtons[a]=r());var i=n(t.file_list);G.renderListFuncSingtons[a](i.selfGroupResult,i.otherGroupResult),o&&o(),p.showLoad(!0)},u={succ:function(e,t){d(e,t)},fail:function(){if(e){var t="100%",a=G.getDomPanel();a.html(i()),$(".search-empty").css("height",t||"160px")}p.showLoad(!0)},beforeRequest:function(e){return function(){e()}}(p.showLoad),searchParams:l,isNew:e};if("object"===("undefined"==typeof nodeData?"undefined":n(nodeData))){var m={key_word:nodeData.key_word,search_type:0,app_id:4};d(nodeData,m),nodeData=!1}else s.search(u)}),G.scrollHandler())}}var s=a(38),d=(a(36),a(110)),c=a(30),f=a(7),p=a(6);G.renderOtherGroupResultFuncSingtons={},e.exports={search:l()}},function(e,t,a){"use strict";var n=a(36),i=a(37),o=$(G.handler),r=function(){n.checkVip().done(function(e){G.flagIsVip=e&&e.vinfo&&e.vinfo.supervip?!0:!1,i.showQQVip()}).fail(function(){i.showQQVip()})},l=function(){i.show(),o.trigger("menu.hide")},s=function(){report("openVip"),G.activeElement&&G.activeElement.focus(),window.open("http://pay.qq.com/ipay/index.shtml?c=cjclub&aid=vip.gongneng.client.qunwenjian_openvip&ADTAG=CLIENT.QQ.GroupFile_OpenSVIP")};e.exports={init:r,"vip.show":l,"vip.open":s}},function(e,t,a){"use strict";function n(){return report("clkCreateFolder"),G.canCreateFolder?(c.show(d,{title:"新建文件夹",tips:"请输入文件夹名称",showValue:g.getFolderNameDefault(),action:"folder.createFolder"}),$(".new-name").focus(),void 0):(b.trigger("toast.show",{type:"new-alert",text:"文件夹个数已达上限"}),void 0)}function i(){report("renameFolder"),console.log(G.selectRow),c.show(d,{title:"重命名",tips:"请输入文件夹的新名称",action:"folder.renameFolder",showValue:G.selectRow.fnameEsc})}function o(){c.hide(d),G.activeElement&&G.activeElement.focus()}function r(){}function l(){}function l(){d.find(".btn-ok").attr("data-action","folder.createOK")}function s(){if(event&&13!==event.keyCode)return y["input.keyup"].call(this,event),void 0;var e=$('[data-keyup="folderTree.create"]');if(!e.length)return callback&&callback(),void 0;var t=e.val(),a=y.folderName(t);a&&f.createFolder()}var d=$("#folderPanel"),c=a(55),f=a(56),p=a(57),u=a(58),m=a(59),v=a(60),h=a(61),g=(a(62),a(7)),w=a(41),b=$(G.handler),y=a(63);e.exports={"folder.openfolder":w.openByFolder,"folder.property":v.show,"folder.create":n,"folder.panelhide":o,"folder.show":r,"folder.showmove":l,"folder.toDelete":l,"folder.createFolder":f.createFolder,"folder.deleteFolder":p.deleteFolder,"folder.renameFolder":u.renameFolder,"folder.showDeleteFolder":p.showDeleteFolder,"folder.showRenameFolder":i,"folder.open":h.renderFolder,"folder.download":m.download,"input.createFolder":s}},function(e,t,a){"use strict";function n(){var e=$(this).parents(".list-item"),t=e.data("path"),a=void 0,n=b.getData(t);2===n.orcType?a="fold":1==n.orcType&&(a="file"),G.selectRow=n||{},G.selectRow.path=t,G.selectRow.type=a,G.selectRows=[G.selectRow]}var i=a(40),o=a(41),r=a(42),l=a(43),s=a(44),d=a(45),c=a(46),f=a(47),p=a(48),u=a(49),m=a(50),v=a(51),h=a(52),g=a(53),w=a(54),b=a(30);e.exports={"file.batchDelete":m.remove,"batch.removeAction":m.removeAction,"file.batchMove":m.move,"file.batchDownload":m.down,"batch.downloadAction":m.downloadAction,"file.batchSaveAs":m.save,"file.selectAll":u.selectAll,"file.select":u.select,"file.check":u.check,"file.exitBatch":u.exit,"file.upload":i.upload,"file.batchUpload":i.bupload,"file.openFolder":o.openByPath,"file.openFolderInBox":o.openByMenu,"file.showRename":r.showFileRename,"file.renameFile":r.renameFile,"file.saveAs":v.save,"file.download":l.download,"file.downloadBatch":l.downloadBatch,"file.preview":c.preview,"file.menupreview":c.menupreview,"file.jubao":p,"file.permanent":g,"file.delete":d.removeOne,"file.deleteBatch":d.removeBatch,"file.forward":s.forward,"file.forwardMobile":s.toMobile,"file.showUpload":i.showUpload,"file.showMove":f.showMove,"file.move":f.move,"upload.noTips":i.noTips,"upload.cUpload":i.cupload,"file.getByUin":h.byUin,"file.getAttr":w,"qq.update":i.update,"file.aria":n}},function(e,t,a){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}{var i=a(11),o=a(12),r=a(9),l=a(6),s=function(e){if(""===e)l.init();else try{e=JSON.parse(e)}catch(t){return l.init(),void 0}if("fileList"===e.action){var a=e.params;a="object"===("undefined"==typeof a?"undefined":n(a))?a:{};var s=a.folderId;"/"===s?l.init():i["folder.open"](s,a.fname)}else"search"===e.action&&!function(){var t=e.params;t="object"===("undefined"==typeof t?"undefined":n(t))?t:{};var a=t.keyword;$("#inputSearch").val(a);var i=t.files[0];r.search(void 0,function(e){var t=!0,n=!1;return function(){if(t&&(o["file.getAttr"](e,a),t=!1),!n){var i="#"+("/"+e.busId+e.fileId).replace(/\//gi,"-");$(i).last().remove(),n=!0}}}(i))}()};!function(){window.addEventListener("storage",function(e){if("notifyOtherGroup"===e.key){var t={};try{t=JSON.parse(e.newValue)}catch(e){return console.log("decode JSON fail"),void 0}if(t.gc===G.info.gc){var a=t.webParams;s(a)}}})}()}e.exports={action:s}},,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e,t){var a=t;i.check(a)||i.add(a),o.addBoxRow(a)}var i=a(114),o=a(29);$(G.handler).bind("client.addTask",n)},function(e,t,a){"use strict";function n(e,t){var a=t;i.updateBoxRow(a)}var i=(a(114),a(29));$(G.handler).bind("client.updateTask",n)},function(e,t,a){"use strict";function n(e){var t=b.find('[data-path="'+e+'"]');return t.length>0&&!t.hasClass("complete")?t:!1}function i(e){var t=b.find('[data-id="'+e+'"]');return t.length>0&&!t.hasClass("complete")?t:!1}function o(e){return 1===e.type||"upload"===e.type?i(e.taskId):2===e.orcType?i(e.taskId):n(e.filepath)}function r(e){var t=o(e);if("remove"===e.status)return k--,g.removeEase(t),c(),void 0;var a=h({list:[e]});t&&t.replaceWith(a),("uploadcomplete"===e.status||"downloadcomplete"===e.status)&&($("#boxTitle").attr("class","box-title tri"),k--,c())}function l(e){var t=o(e);if(console.log("更新",e,t),T=!0,!(t.length>0)){var a=h({list:[e]});x=!0,k++,c(),b.prepend(a),b.removeClass("empty")}}function s(){}function d(){}function c(){0>k&&(k=0),k?w.text(k).addClass("small"):w.text(k).removeClass("small")}function f(){T=!1}function p(e,t){var a=h(t);x?b.append(a):b.html(a)}function u(){if(F){F=!1;var e=[],t=G.cList,a=G.pList,n=G.compList;t=t.concat(a);var i=t.length;e=t,n&&(e=t.concat(n)),e=S(e),k=i,c(),p(null,{list:e}),e.length>0&&b.removeClass("empty"),n.length>0&&$("#boxTitle").attr("class","box-title tri")}}function m(){if(g.removeEase(b.find(".complete")),G.mac)for(var e=b.find(".err"),t=e.length,a=0;t>a;a++){var n=e.eq(a),i=n.data("id");y.trigger("task.removeOne",i),g.removeEase(n)}setTimeout(function(){0===b.find(".file2").length&&b.addClass("empty")},500),$("#boxTitle").attr("class","box-title empty")}function v(e){var t=b.find('[data-path="'+e.filepath+'"]');t.find(".go-folder").addClass("disable")}var h=a(115),g=a(7),w=$("#boxNum"),b=$("#boxListDom"),y=$(G.handler),x=!1,k=0,F=!0,T=!1,S=function(e){for(var t=[],a=[],n=0,i=e.length;i>n;n++)$.inArray(e[n].id,t)<0&&$.inArray(e[n].filepath,t)<0&&(e[n].id&&t.push(e[n].id),e[n].filepath&&t.push(e[n].filepath),a.push(e[n]));return a};e.exports={updateBoxRow:r,addBoxRow:l,removeBoxRow:s,cleanBox:d,render:p,firstRender:u,updateBoxNum:c,clearComplete:m,removePoint:f,removeOpenFolder:v}},function(e,t,a){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(){if("/"===G.nowFolder){y.text(G.file.capacityused+"/"+G.file.capacitytotal),$("#fileNumText").text(G.file.allnum),$("#macFileNums").text("共"+G.file.allnum+"个文件");var e=parseInt(G.file.cu/G.file.ct*100);x.css("width",e+"%"),$("#fileNum").removeClass("hide")}}function o(e){return e+="",e.replace(/\//gi,"-")}function r(e){var t={};for(var a in e)t[a]=e[a];return t}function l(e){return G.info.isAdmin||e===G.info.uin?!0:!1}function s(e){if(!e||"undefined"==typeof e.name)return console.log(!e,!e.name),void 0;if(e.filepath&&(e.filepath=e.filepath.replace(/\\\//g,"/")),!e.remoteType)switch(e.busid){case 102:e.remoteType=k;break;case 104:case 105:e.remoteType=F;break;default:e.remoteType=k}if(e.lp&&(e.localpath=G.mac?f.decode(e.lp):f.decode(e.lp).replace(/\\|\//g,"\\\\")),e.upsize<e.size)e.uin===G.info.uin&&(e.type="continueupload",e.status="continue",e.canContinueUpload=!0,e.taskStarttime=e.ct,e.styles="upload pause",e.csize=e.upsize,e.csizeStr=d.getSize(e.upsize),e.cPercent=0,e.upsize&&e.size&&(e.cPercent=100*e.upsize/e.size),e.notComplete=!0,e.result=1,v.parse(e));else{e.result=2,e.auditflag>0&&console.warn("auditFlag",e);{var t=(e.name,e.size);e.ct}e.down||(e.down=0),"图片"===e.filetype&&(e.result=3,G.info.isVisitor||(e.preview=!0)),e.remoteType===F&&e.isAdmin&&(e.canForever=!0);var a=0;102400>t?a=5:1048576>t?a=4:10485760>t?a=3:52428800>t?a=2:104857600>t&&(a=1);var n=[];e.isAdmin&&(e.canDelete=!0,e.canRename=!0,n.push("can_delete=1 "),n.push("can_rename=1 ")),e.preview&&n.push("can_preview=1 "),e.canForever&&n.push("can_forever=1 "),e.canDo=n.join(""),e.showMore="",""===e.canDo&&(e.showMore="disable_more"),e.sizeType=a,e.styleTemp||(e.styleTemp=""),e.styleIssucc||(e.styleIssucc=""),e.expireStr="",e.fileTitle=e.filename,e.remotetype===F&&(e.styleTemp="temp",e.expireStr=m.getExpriesDayNum(e.ttl)+"天后到期",e.fileTitle+=" (临时文件：剩余"+data.getExpriesDayNum(e.ttl)+"天)")}return e}var d=a(123),c=a(128),f=a(130),p=a(114),u=a(129),m=a(7),v=a(31),h=a(2),g=$(G.handler),w={},b=!1,y=$("#groupSize"),x=$("#groupSizeBar");e.exports=w,w.updateFile=function(e,t){"permanent"===t&&e&&(delete G.fileMap()[e.filepath],e.id&&delete G.fileMap()[e.id],G.fileMap()[e.newFilePath]=e,e.filepath=e.newFilePath)},w.updateFolder=function(e){return delete G.folderMap()[e.id],e.modify_time=Math.ceil((new Date).getTime()/1e3),e.mt=e.modify_time,e.mtStr=c.getDateStr(e.modify_time),G.folderMap()[e.id]=e,e},w.filterFolder=function(e){var t={fname:e.name,fnameEsc:f.decode(e.name),name:e.name,id:e.id,icon:"folder",ct:e.create_time,ctStr:c.getDateStr(e.create_time),mt:e.modify_time,mtStr:c.getDateStr(e.modify_time),uin:e.owner_uin||G.info.uin,filenum:e.size,nick:e.owner_name||G.info.nickName,mnick:e.modify_name||G.info.nickName,muin:e.modify_uin||G.info.uin,orcType:e.type||2,domid:o(e.id),downNum:0},a=h.check(t.id);return a&&(t.localpath=a,t.succ=!0),t},w.addData=function(e){e&&(2===e.orcType?G.folderMap()[e.id]=e:G.fileMap()[e.filepath]=e)},w.getData=function(e){return G.folderMap()[e]||G.fileMap()[e]||!1},w.deleteData=function(e){if(G.folderMap()[e]&&delete G.folderMap()[e],G.fileMap()[e]){var t=w.getFile(e);delete G.fileMap()(t.filepath),t.id&&delete G.fileMap()(t.id)}},w.remove=function(e){G.folderMap()[e]&&delete G.folderMap()[e];var t=G.fileMap()[e];t&&(t.isRemoved=!0,delete G.fileMap()[e],delete G.fileMap()[t.filepath])},w.getFile=function(e,t){return G.fileMap()[e]||G.fileMap()[t]||!1},w.getTask=function(e){return G.cMap[e]||!1},w.setAllNum=function(e){G.file||(G.file={}),G.file.allnum=e.total||0},w.setAllSpace=function(e){G.file||(G.file={}),G.file.capacitytotal=d.getSize(e.totalSpace),G.file.capacityused=d.getSize(e.usedSpace),G.file.ct=e.totalSpace,G.file.cu=e.usedSpace},w.removeAllNum=function(e){G.file.allnum&&G.file.allnum--,1===e.remoteType&&(G.file.cu-=e.size,G.file.capacityused=d.getSize(G.file.cu))},w.addAllNum=function(){},w.updateAllNum=function(e){var t={files:[],action:""};e=m.extend(t,e);for(var a=e.action,n=e.files,o=0,r=n.length-1;r>=0;r--)o+=n[r].size;"add"===a?(G.file.allnum=G.file.allnum+n.length,G.file.cu+=o):"remove"===a?(G.file.allnum=G.file.allnum-n.length,G.file.cu-=o):console.log("illegal action"),i()},w.setRole=function(e){if(!b){b=!0;var t=e.userRole||0,a=e.openFlag||0,n=0,i=!1,o=3===e.userRole?!0:!1;t>=1&&4!==t?(n=1,i=!0):3===t&&1===a&&(o=!0),G.info.isAdmin=n,G.info.isVisitor=o,G.info.isPublic=a,G.canCreateFolder=i,report("enter",a),report("showSearchBtn"),$("body").addClass("auth"+G.info.isAdmin)}},w.task2file=function(e){var t=e,a=t.filepath.substr(1,3);a=parseInt(a);var n=parseInt((new Date).getTime()/1e3,10),i=d.getFileName(t.filename);
if("downloadcomplete"!==t.status)t.name=i.filename_name,t.fname=t.filename,t.nameEsc=f.decode(i.filename_name),t.folderid=o(t.folderpath),t.down=0,t.filepath=t.filepath,t.fp=t.filepath.substr(4),t.domid=o(t.filepath),t.busid=a,t.filetype=d.getType(i.filename_suc),t.uin=G.info.uin,t.nick=G.info.nickName,t.upsize=t.filesize,t.temp=102==a?!1:!0,t.ttl=86400,t.ct=n,t.ctStr=c.dayStr(n),t.mt=n,t.mtStr=c.dayStr(n),t.type=1,t.succ=!0,t.admin=!0,t.isDown=!0,t.remove=!0,t.rename=!0,t.size=t.size,t.remoteType=102===a?1:2,t.parentId=t.folderpath||"/";else{var l=void 0,s=t.id;l=1===t.downloadtasktype?r(G.folderMap()[t.filepath]):r(G.fileMap()[t.filepath]),t=$.extend(!0,l,t),t.taskId=s,t.isDown=!0,t.succ=!0,t.domid=o(t.filepath)}return G.cMap[t.id]&&delete G.cMap[t.id],G.cMap[t.filepath]&&delete G.cMap[t.filepath],2===t.orcType&&(t.id=t.filepath),w.addData(t),t},w.setFileList=function(e,t){G.cMap||(G.cMap={});var a=[],n=[],i=[],r=[];t=m.extend({fn:"name",t:"bus_id",uin:"owner_uin",dt:"download_times",ut:"create_time",mt:"modify_time",lp:"local_path",ufs:"upload_size",fp:"id",fs:"size",owner_name:"owner_name"},t);var v=t.fn,b=t.t,y=t.uin,x=t.dt,k=t.ut,F=t.mt,T=t.lp,S=t.ufs,_=t.fp,C=t.fs,$=t.owner_name;e=e||[];for(var j=0,D=e.length;D>j;j++){var R=e[j];if(void 0===R.type&&(R.type=1),1===R.type){var M=d.getFileName(R[v]),N={t:R[b],exp:R.exp||0,lp:R[T],busid:R[b],fname:R[v],fnameEsc:f.decode(R[v]),name:M.filename_name,nameEsc:f.decode(M.filename_name),suf:M.filename_suf,icon:d.getIcon(M.filename_suf),domid:o("/"+R[b]+R[_]),filepath:"/"+R[b]+R[_],fp:R[_],admin:!1,filetype:d.getType(M.filename_suf),uin:R[y],nick:R[$],size:R[C],sizeStr:d.getSize(R[C]),upsize:R[S],temp:104===R[b]?!0:!1,down:R[x],ct:R[k],ctStr:c.dayStr(R[k]),mt:R[F],parentId:R.parent_id,mtStr:c.dayStr(R[F]),orcType:R.type,safeType:R.safe_type,remove:!1,rename:!1,isDown:!1};N.admin=l(R[y]),N.admin&&(N.remove=!0,N.rename=!0),N=s(N);var O=h.check(N.filepath);if(O?(N.isDown=!0,N.localpath=O,N.succ=!0,report("showOpenFile",G.module())):report("showDownloadBtn",G.module()),N.safeType){var L=G.getReportInfo(N);L.ver3=L.ver4,L.ver4=L.ver5,L.ver5=L.ver6,delete L.ver6,reportNew("blackExp",L)}3!==N.result||G.previewCache[N.filepath]||a.push(N),G.previewCache[N.filepath]&&(N.previewObj=G.previewCache[N.filepath]),G.fileMap()[N.filepath]=N,R[C]===R[S]?n.push(N):R[y]===G.info.uin&&(p.add(N),i.push(N))}else{var N=w.filterFolder(R);G.folderNum++,w.addData(N),r.push(N),report("showOpenFile",G.module())}}return G.topFolder={fname:"群文件",fnameEsc:"群文件",id:"/",icon:"folder",mt:0,mtStr:0,uin:0,filenum:0,nick:0,type:2},i.length>0&&(G.cList=i,g.trigger("box.renderNum")),a.length>0&&u.getThumb(a),r.length>0&&report("folderNum",G.module(),r.length),report("showSeeBtn",G.module()),{file:n,folder:r}};{var k=1,F=2;!function(){var e=window.external&&window.external.getPreviewSuffixConfig&&window.external.getPreviewSuffixConfig();if(null===e&&(e={content:[]}),"string"==typeof e)try{e=JSON.parse(e)}catch(t){}"object"!==("undefined"==typeof e?"undefined":n(e))&&(e={content:[]});var a={};if(e=e.content)for(var i=function(t){var n=e[t].suffix,i=e[t].maxsize,o=n.split(".");o.forEach(function(e){e&&(a[e]=i)})},o=0,r=e.length;r>o;o++)i(o,r);return function(e,t){var n=void 0;return(n=a[e])&&n>=t?!0:void 0}}()}w.clearComplete=function(){p.clearComplete()}},function(e,t,a){"use strict";function n(e){try{if(!e)return;G.cMap||(G.cMap={}),e.taskId=e.id,e.taskId&&(G.cMap[e.taskId]=e),e.filepath&&(G.cMap[e.filepath]=e);var t=d.getType(e.type);d.check(t,e.status);var a=d.getWord(t,e.status),n=d.getClass(t,e.status);if("scan"===n)e.cPercent&&(a+=e.cPercent+"%"),e.cPercent=0,n="pre";else if("pre"===n)e.cPercent=0;else if("pause"===n||"continue"===n)e.csizeStr&&(a+=e.csizeStr),e.sizeStr&&(a+="/"+e.sizeStr);else if("err"===n)e.cPercent=0,e.status.indexOf("securityfail")>=0?(a="<i class='warn'></i>"+getErrorWording(e),e.securityattri>=1&&e.securityattri<=5&&(a+="<i class='security'></i>")):(-1e3==e.errorcode&&(a="该文件已被删除"),a="<i class='warn'></i>"+a);else if("progress"===n){e.speedStr&&(a+=e.speedStr);var i=void 0;if(e.speed){var o=Math.ceil((e.filesize-e.completesize)/e.speed),r=Math.floor(o/3600),l=Math.floor(o%3600/60);o=Math.floor(o%60),10>r&&(r="0"+r),10>l&&(l="0"+l),10>o&&(o="0"+o),i="<span class='lefttime'>"+r+":"+l+":"+o+"</span>"}if(c[e.filepath]){var s=new Date-c[e.filepath];s>3e3&&i&&(a+=i)}else e.filepath&&(c[e.filepath]=new Date)}else"complete"===n?(e.cPercent=100,a+=e.sizeStr):e.c_percent=0;e.wording=a,e.styleType=t,"continueupload"===t&&(e.styleType="upload"),e.styleStatus=n,e.styles=e.failedFileList&&e.failedFileList.length>0?e.styleType:e.styleType+" "+e.styleStatus}catch(f){console.warn("parse",f,e)}}function i(e){e.taskId=e.id,1===e.downloadtasktype?(e.filepath=e.folderpath,e.orcType=2,e.icon="folder",e.name=G.mac?e.filename:s.getFolderName(e.localpath),e.filename=e.name,e.filelist=[],e.status||(e.status="downloadprogress"),e.filesize=e.foldersize):e.orcType=1,e.fnameEsc||(e.fnameEsc=e.filename),e.speedStr="",e.wording="",e.csizeStr="",e.updateFlag=!0;{var t=e.filename,a=e.filesize;e.createtime}e.speedStr=s.getSize(e.speed),0===e.speedStr?e.speedStr="":e.speedStr+="/S",void 0===e.size&&(e.size=e.completesize),e.sizeStr=s.getSize(a),e.csizeStr=s.getSize(e.completesize);var i=0;e.completesize>0&&e.filesize>0&&(i=Math.round(100*e.completesize/e.filesize)),e.cPercent=i;var o=t.lastIndexOf(".");return o>=0?(e.name=t.substr(0,o),e.suf=t.substr(o)):(e.name=t,e.suf=""),e.icon||(e.icon=s.getIcon(e.suf)),n(e),e}function o(e){var t=[];for(var a in e){var n=e[a];if(n=i(n),2!==n.downloadtasktype)t.push(n);else{var o=l(n.fordertaskid);o&&(o.fileTaskList||(o.fileTaskList=[]),o.fileTaskList.push(n.id))}}return t}function r(e){var t=[];for(var a in G.cMap){var n=G.cMap[a];(n.foldertaskid===e||n.folderpath===e)&&t.push(n)}return t}function l(e){return G.cMap[e]||!1}var s=a(123),d=a(124),c=(a(125),{});e.exports={get:i,getFolderTask:r,getOneTask:l,parse:n,cleanMap:o}},function(e){"use strict";function t(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(){var e={};if(window.external&&R.getTaskList){var a=R.getTaskList();if("string"!=typeof a&&(a=""),""===a)e.map={},e.status="busy";else if("{}"===a)e.map={},e.status="ok",e.empty=!0;else{try{e.map=JSON.parse(a)}catch(n){console.error("客户端接口getTaskList返回的数据有问题?parse出错["+a+"]")}"object"===t(e.map)&&null!==e.map?e.status="ok":(e.map={},e.status="parseerror")}}else e={map:{},status:"ok",empty:!0};return e}function n(){var e={};if(window.external&&R.getCompleteTaskList){var a=R.getCompleteTaskList();if("string"!=typeof a&&(a=""),""===a)e.map={},e.status="busy";else if("{}"===a)e.map={},e.status="ok",e.empty=!0;else{try{e.map=JSON.parse(a)}catch(n){console.error("客户端接口getCompleteTaskList返回的数据有问题?parse出错["+a+"]")}"object"===t(e.map)&&null!==e.map?e.status="ok":(e.map={},e.status="parseerror")}}else e={map:{},status:"ok",empty:!0};return e}function i(e){if(window.external&&R.getTaskInfo){R.getTaskInfo(e)}return ret}function o(e,t){var a=void 0;return e||(e=1),window.g_flag_upload_temp&&(e=2),"addUploadTask"in R&&(a=R.addUploadTask(e,t)),a}function r(e,t,a,n,i){var o=void 0;return window.external&&R.addDownloadTask?(a+="",o=R.addDownloadTask(e,t,a,n,i||!1)):o=-1,o}function l(e,t,a){var n=void 0;return window.external&&R.downloadByXF?(a+="",n=R.downloadByXF(e,t,a),console.debug(n)):n=-1,n}function s(e,t,a){var n=void 0;return n=window.external&&R.forwardFile?R.forwardFile(t,e,a):-1}function d(e,t,a){var n=void 0;return n=window.external&&R.forwardFileToDataLine?R.forwardFileToDataLine(t,e,a):-1}function c(e,t,a,n){var i=void 0;return console.log("client",e,t,a,n),window.external&&R.addContinueUploadTask?(i=R.addContinueUploadTask(e,t,a,n),console.log(i)):i=-1,i}function f(e){var t=void 0;return t=window.external&&R.removeTask?R.removeTask(e):-1}function p(e){var t=void 0;return t=window.external&&R.removeCompleteTask?R.removeCompleteTask(e):-1}function u(e){var t=void 0;return t=window.external&&R.pauseTask?R.pauseTask(e):-1}function m(e){var t=void 0;return t=window.external&&R.resumeTask?R.resumeTask(e):-1}function v(){var e=top.external&&top.external.CallHummerApi;if(e){var t=void 0;try{return t=e.apply(this,arguments),t=JSON.parse(t)}catch(a){return!1}}return!1}function h(){if(!G.mac)return v("IM.GetVersion");try{var e=R.getVersion();return{errorCode:0,version:e}}catch(t){return{errorCode:1,version:0}}}function g(){if(window.G_DEBUG)return!0;var e=v("Contact.IsOnline");return e?v("Contact.IsOnline").online:!1}function w(e,t){return t=t||1,v("Group.OpenGroupInfoCard",'{ "groupId" : "'+e+'", "tabId" : '+t+" }")}function b(e,t){var a=JSON.stringify({gc:""+e,webParams:t});return v("Group.OpenGroupFile",a)}function y(e){if(M)return M;var t={uin:e+""};t=JSON.stringify(t);var a=v("Contact.GetNickName",t);if(a&&0===a.errorCode&&a.nickName&&(M=a.nickName),G.mac)try{M=R.getNickName(e)}catch(n){M=e}return M?M:e}function x(){return v("IM.GetClientKey")}function k(e){e+="&pictype=scaled&size=1024*1024";var t=void 0;return t=G.mac?window.external&&window.external.previewPicture(e):v("Misc.OpenWebPic",'{"url":"'+e+'"}')}function F(e,t){window.external&&window.external.previewFile(e,t)}function T(){var e=n();if(e.map)for(var t in e.map){var a=e.map[t];if(a.id){var i=p(a.id);-1===i&&console.warn("移除完成任务失败！")}}}function S(e,t,a){return G.mac?window.alert(a):v("Window.Alert",'{ "iconType" : '+e+', "title" : "'+t+'", "text" : "'+a+'" }')}function _(e,t,a){if(G.mac){var n=window.confirm(a);return{errorCode:0,ret:n}}return v("Window.Confirm",'{ "iconType" : '+e+', "title" : "'+t+'", "text" : "'+a+'" }')}function C(){var e=void 0;return e=window.external&&R.getUploadFiles?R.getUploadFiles():-1}function $(e,t,a){a||(a=1);var n=void 0;return n=window.external&&R.uploadFiles?R.uploadFiles(e,t,a):-1}function j(e){var t=void 0;return remotetype||(remotetype=1),t=window.external&&R.setUploadFileRemotePath?R.setUploadFileRemotePath(e):-1}function D(e){var t=void 0;return console.log(e),t=window.external&&R.addMultiDownloadTasks?R.addMultiDownloadTasks(e):-1}var R=top.external,M=null;e.exports={getVersion:h,getBatchFiles:C,batchUpload:$,setUploadFileRemotePath:j,getTaskListAdv:a,getCompleteTaskListAdv:n,addUploadTask:o,addDownloadTask:r,addDownloadFast:l,addContinueUploadTask:c,removeTask:f,removeCompleteTask:p,pauseTask:u,resumeTask:m,getTaskInfo:i,forwardFile:s,forwardFileToDataLine:d,callHummerApi:v,getNickName:y,isOnline:g,getClientKey:x,preview:k,previewFile:F,clearClist:T,alert:S,confirm:_,openGroupInfoCard:w,openGroupFile:b,addMultiDownloadTasks:D}},function(e,t,a){"use strict";function n(){for(var e={},t=0;t<i.length;t++){var a=i[t],n=void 0;for(n in a)a.hasOwnProperty(n)&&(e[n]=a[n])}return e["tips.close"]=function(){$("#alertTips").remove()},e}var i=[a(11),a(12),a(34),a(116),a(117),a(118),a(119),a(9),a(63),a(120),a(10),a(121)];e.exports={getHandlerTasks:n}},function(e,t,a){"use strict";function n(){report("clkFiles");var e=$(".hover-border.file-num-toggle");m.is(":hidden")?(m.show(),e.addClass("active")):(m.hide(),e.removeClass("active"))}function i(){var e=G.selectRow.path,t=g.getData(e);F.removeClass("disable"),y.removeClass("disable"),x.removeClass("disable"),k.removeClass("disable"),T.removeClass("disable"),S.removeClass("disable"),C.removeClass("disable"),_.removeClass("disable"),j.removeClass("disable"),"pic"===t.icon&&t.preview?F.removeClass("disable"):F.addClass("disable"),t.isDown?(k.attr("title","在文件夹中显示").attr("data-action","file.openFolderInBox"),k.find(".menu-item-label").text("在文件夹中显示")):(k.attr("title","另存为").attr("data-action","file.saveAs"),k.find(".menu-item-label").text("另存为")),t.temp&&t.admin?S.removeClass("disable"):S.addClass("disable"),t.admin?(T.removeClass("disable"),_.removeClass("disable"),report("showFolderMove")):(T.addClass("disable"),_.addClass("disable")),G.info.isAdmin?C.removeClass("disable"):C.addClass("disable"),3!==G.module()?C.show():C.hide(),t.safeType&&(F.addClass("disable"),y.addClass("disable"),x.addClass("disable"),k.addClass("disable"),T.addClass("disable"),S.addClass("disable"),C.addClass("disable"))}function o(){var e=G.selectRow.path,t=g.getData(e);t&&(t.succ?(v.find(".open-in-folder").removeClass("disable"),v.find(".download-item").removeClass("disable")):(v.find(".open-in-folder").addClass("disable"),0===t.filenum?v.find(".download-item").addClass("disable").removeAttr("data-action"):(v.find(".download-item").removeClass("disable").attr("data-action","folder.download"),report("showDownloadBtn",G.module())))),G.oldVersion&&v.find(".download-item").addClass("disable").removeAttr("data-action")}function r(e){$(".list-item").removeClass("active"),e.addClass("active")}function l(){var e=this,t=$(this).parents(".list-item"),a=t.data("path"),n=void 0,l=void 0;if(r(t),report("clkShowBtn",G.module()),l=g.getData(a),2===l.orcType?(n="fold",report("clkFolderMore",G.info.isAdmin?0:1)):1==l.orcType&&(n="file",l.succ?report("clkUnMore"):report("clkMore")),G.selectRow=l||{},G.selectRow.path=a,G.selectRow.type=n,G.selectRows=[G.selectRow],"fold"===n)b!==n&&h.renderFolder(),o();else if("file"===n)if(b===n)i();else{h.renderFile(),y=$("#fileFoward"),x=$("#fileFowardTo"),k=$("#fileOpenFolder"),F=$("#filePreview"),T=$("#renameFile"),S=$("#foreverFile"),_=$("#fileDelete"),C=$("#fileMove");{$("#menuPreview")}i()}if(b=n,e==w&&"block"===v[0].style.display)v.css("display","none");else{var s=e.getBoundingClientRect(),d=$(e).parents(".scroll-dom")[0],c=d.getBoundingClientRect(),f=c.right-s.right,p=document.querySelector(".scroll-dom"),u=p.scrollTop,m=(p.scrollHeight,s.bottom+u-52);v.css("display","block");var j=v.get(0).offsetHeight;m+j>u+window.innerHeight&&(m=m-j-28),v.css({right:f+"px",top:m+"px"}),w=e}}function s(e){return 0==$(e).closest("#fileNumMenu").length}function d(e){return 0==$(e).closest("#fileMoreMenu").length&&0==$(e).closest(".file-more").length}function c(e){if(s(e)){m.hide();var t=$(".hover-border.file-num-toggle");t.removeClass("active")}d(e)&&v.hide()}function f(){report("clkRefresh")}function p(){c(),report("clkFeed")}var u=$(G.handler),m=($("#fileNum"),$("#fileNumMenu")),v=($(".file-more"),$("#fileMoreMenu")),h=a(131),g=a(30),w=null,b=void 0,y=$("#fileFoward"),x=$("#fileFowardTo"),k=$("#fileOpenFolder"),F=$("#filePreview"),T=$("#renameFile"),S=$("#foreverFile"),_=$("#fileDelete"),C=$("#fileMove"),j=$("#fileJubao");u.bind("menu.hide",c),e.exports={"menu.filenum":n,"menu.filemore":l,"menu.foldmore":l,"menu.hide":c,"menu.refresh":f,"menu.feedback":p}},function(e,t,a){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e){var t=void 0;if(!e)return console.error("[Client] msg is not exist!"),void 0;if("string"==typeof e)try{t=JSON.parse(e)}catch(a){console.error("[Client|init()]msg is string, but parse to object catch e!")}return"object"!==("undefined"==typeof t?"undefined":n(t))?(console.error("[Client|init()]after parse, got no object!"),void 0):(o(t),void 0)}function o(e){var t=e;if(t&&"object"===("undefined"==typeof t?"undefined":n(t)))if("Client"===t.from){var a=t.data;"string"==typeof a&&(a=JSON.parse(t.data)||{});var i=a.cmd||"";switch(i){case"OnFiletransporterEvent":r(a.param);break;case"OnGroupShareTabChangedEvent":l(a.param);break;case"OnGroupUploadFileListsEvent":s(param);break;case"OnGroupDropInGroupFolderUpload":s(param);break;default:console.warn("warn:预期外的message.cmd:"+i)}}else if(t.cmd&&"OnGroupUploadFileListsEvent"===t.cmd)s(t.param);else if(t.cmd&&"OnGroupDropInGroupFolderUpload"===t.cmd)d(t.param);else{var a=t.data;if(!a)return;"string"==typeof a&&(a=JSON.parse(a));var i=a.cmd||"";switch(i){case"jubao_close":c.hide();break;default:console.warn("warn:预期外的message.cmd:"+i)}}}{var r=a(134).fileEvent,l=a(120).groupEvent,s=a(135).uploadEvent,d=a(135).dropEvent,c=a(126),f=top;top.external}window.addEventListener("message",o),f.PostMessage=f.onClientEvent=i,window.onClientEvent=i,e.exports={}},function(e,t,a){"use strict";var n=a(122),i={};e.exports=i;var o="//pan.qun.qq.com/cgi-bin/group_file/",r={getFileList:o+"get_file_list",renameFolder:o+"rename_folder",getFileInfo:o+"get_file_info",createFolder:o+"create_folder",deleteFolder:o+"delete_folder",renameFile:o+"rename_file",deleteFile:o+"delete_file",moveFile:o+"move_file",fileSearch:o+"search_file",getSpace:o+"get_group_space",previewFile:"//pan.qun.qq.com/cgi-bin/thumbnail",permanent:"//pan.qun.qq.com/cgi-bin/permanent",checkOneFile:"//pan.qun.qq.com/cgi-bin/checkAuditFlag",getFileAttr:o+"get_file_attr",checkVip:"//pan.qun.qq.com/cgi-bin/get_vip_info"};i.setPermanent=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.permanent,type:"POST",data:e})},i.getFileList=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.getFileList,type:"GET",data:e})},i.deleteFile=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),e.bus_id&&(e.file_list=JSON.stringify({file_list:[{gc:G.info.gc,app_id:G.appid,bus_id:e.bus_id,file_id:e.file_id,parent_folder_id:e.parent_folder_id}]})),n.ajax({url:r.deleteFile,type:"POST",data:e})},i.renameFile=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.renameFile,type:"POST",data:e})},i.moveFile=function(e){var t={};return t.file_list=JSON.stringify({file_list:e}),t.gc||(t.gc=G.info.gc),n.ajax({url:r.moveFile,type:"POST",data:t})},i.createFolder=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.createFolder,type:"POST",data:e})},i.deleteFolder=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.createFolder,type:"POST",data:e})},i.renameFolder=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.renameFolder,type:"POST",data:e})},i.deleteFolder=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.deleteFolder,type:"POST",data:e})},i.getPreview=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.previewFile,type:"POST",data:e})},i.checkOneFile=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.checkOneFile+"?_="+(new Date).getTime(),type:"POST",data:e})},i.search=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.fileSearch,type:"GET",data:e})},i.getSpace=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),n.ajax({url:r.getSpace,type:"GET",data:e})},i.getFileAttr=function(e){return e.gc||(e.gc=G.info.gc),n.ajax({url:r.getFileAttr,type:"GET",data:e})},i.checkVip=function(){var e={gc:G.info.gc};return n.ajax({type:"GET",data:e,url:r.checkVip+"?_="+(new Date).getTime()})}},function(e){"use strict";function t(){G.flagIsVip&&n.html('<i class="icons-vip"></i>极速下载特权</a>').addClass("is-vip")}function a(){G.flagIsVip&&(i.find(".tips-msg").text("尊贵的QQ超级会员，您已获得群文件极速下载特权，快去下载文件体验吧！"),i.find(".btn-ok").remove()),i.addClass("open"),i.find(".btn-ok").focus()}var n=$("#qqVip"),i=$("#openVip");e.exports={showQQVip:t,show:a}},function(e,t,a){"use strict";var n={},i=a(36),o=(a(30),a(7));e.exports=n,G.searchFuncSingtons={},n.search=function(e){var e=e||{},t=e.succ,a=e.fail,n=e.beforeRequest,r=e.isNew,l=o.extend({key_word:"",search_type:0,app_id:4},e.searchParams);G.mac&&(l.app_id=7);var s=!1,d=JSON.stringify(l);(r||void 0==G.searchFuncSingtons[d])&&(G.searchFuncSingtons[d]=function(){var e=25,t=void 0,a=0;return function(o,c){return a?(console.log("no more items"),void 0):(s!==!0&&(l.cookie=t,l.count=e,n&&n(),s=!0,i.search(l).done(function(e){r&&($("#searchReasult").text(e.total),$(".nav").addClass("hide"),$("#searchNav").removeClass("hide")),a=e.is_end,t=e.cookie,o&&o(e,d),s=!1,$("#navTopFolder").addClass("selected")}).fail(function(e){c&&c(e),s=!1,$("#searchReasult").text(0),$(".nav").addClass("hide"),$("#searchNav").removeClass("hide"),$("#navTopFolder").addClass("selected")})),void 0)}}()),G.searchFuncSingtons[d](t,a)},window.search=n.search},function(e,t,a){(function(e){"use strict";function t(){var e,t,a,n=window.webkitPerformance?window.webkitPerformance:window.performance,i=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];if(n&&(e=n.timing)){e.domContentLoadedEventStart||i.splice(15,2,"domContentLoadedStart","domContentLoadedEnd");var o=[];for(a=0,t=i.length;t>a;a++)o[a]=e[i[a]];QReport.huatuo({appid:10016,flag1:1772,flag2:1,flag3:1,speedTime:o})}}function n(){var e=/\/\/(s[\d]*\.url\.cn|[\w\.\d]*\.qq.com|report\.url\.cn)/i;if(window.performance&&window.performance.getEntries())for(var t=window.performance.getEntries(),a=0,n=t.length;n>a;a++){var i=t[a].name;e.test(i)||(QReport.monitor(2154095),badjsReport.info(JSON.stringify({"被劫持":i})))}}var i=a(7),o=a(127),r={enter:{monitor:2057388,mac:2162523,tdw:["home","exp"]},clkGroupFile:{monitor:2057389,tdw:["home","Clk_grpfiles"]},clkFiles:{monitor:2057390,tdw:["home","Clk_files"]},openVip:{monitor:2057391,tdw:["home","Clk_open"]},clkFeed:{monitor:2057392,tdw:["home","Clk_feed"]},clkRefresh:{monitor:2057393,tdw:["home","Clk_refresh"]},forward:{monitor:0,tdw:["home","Clk_towards_mac"]},back:{monitor:0,tdw:["home","Clk_back"]},folder:{monitor:2057394,tdw:["file","exp"]},propFolder:{monitor:2057401,tdw:["file","Clk_property"]},folderBtnShow:{monitor:2057396,tdw:["file","exp_create"]},clkCreateFolder:{monitor:2057397,tdw:["file","Clk_create"]},createFolderSuc:{monitor:2057398,tdw:["file","create_suc"]},renameFolder:{monitor:2057400,tdw:["file","Clk_rename"]},clkFolderMore:{monitor:2057399,tdw:["file","Clk_more"]},downloadFolder:{monitor:2057399,tdw:["file","Clk_down"]},deleteFolder:{monitor:2057402,tdw:["file","Clk_delete"]},returnHome:{monitor:2057395,tdw:["file","Clk_home"]},folderTree:{monitor:2057403,tdw:["file","exp_select"]},createFolderInTree:{monitor:2057404,tdw:["file","select_create"]},createFolderInTreeSuc:{monitor:2057405,tdw:["file","select_suc"]},memberFileShow:{monitor:2057406,tdw:["mber_file","exp"]},memberClkFolder:{monitor:2057407,tdw:["mber_file","Clk_name"]},memberReturnHome:{monitor:2057408,tdw:["mber_file","Clk_home"]},uploadShow:{monitor:2057409,tdw:["oper_file","exp_button"]},clkUpload:{monitor:2057410,tdw:["oper_file","Clk_button"]},clkFolder:{monitor:2057411,tdw:["oper_file","Clk_category"]},showOpenFile:{monitor:2057412,tdw:["oper_file","exp_open"]},clkOpenFile:{monitor:2057413,tdw:["oper_file","Clk_open"]},showDownloadBtn:{monitor:2057414,tdw:["oper_file","exp_download"]},clkDownloadBtn:{monitor:2057415,tdw:["oper_file","Clk_download"]},showSeeBtn:{monitor:2057416,tdw:["oper_file","exp_see"]},clkShowBtn:{monitor:2057417,tdw:["oper_file","Clk_see"]},clkMore:{monitor:2057418,tdw:["oper_file","Clk_more"]},clkUnMore:{monitor:2057419,tdw:["oper_file","Clk_un_more"]},clkSaveAs:{monitor:2057420,tdw:["oper_file","Clk_save"]},clkRepost:{monitor:2057421,tdw:["oper_file","Clk_repost"]},clkPhone:{monitor:2057422,tdw:["oper_file","Clk_phone"]},clkRenameFile:{monitor:2057423,tdw:["oper_file","Clk_rename"]},clkForever:{monitor:2057424,tdw:["oper_file","Clk_forever"]},clkJubao:{monitor:2057425,tdw:["oper_file","Clk_report"]},clkDeleteFile:{monitor:2057426,tdw:["oper_file","Clk_delete"]},clkShowInFolder:{monitor:2057427,tdw:["oper_file","Clk_show"]},showSelectAll:{monitor:2057428,tdw:["all_oper","exp_box"]},clkSelectAll:{monitor:2057429,tdw:["all_oper","Clk_select"]},showBatch:{monitor:2057430,tdw:["all_oper","exp_mode"]},clkBatch:{monitor:2057431,tdw:["all_oper","Clk_all"]},batchSaveAs:{monitor:2057432,tdw:["all_oper","Clk_save"]},batchDownload:{monitor:2057433,tdw:["all_oper","Clk_download"]},batchDelete:{monitor:2057434,tdw:["all_oper","Clk_delete"]},batchDeleteSuc:{monitor:2057435,tdw:["all_oper","suc_delete"]},batchMove:{monitor:2057436,tdw:["all_oper","Clk_move"]},batchMoveSuc:{monitor:2057437,tdw:["all_oper","suc_move"]},showTask:{monitor:2057438,tdw:["task","exp"]},clkTask:{monitor:2057439,tdw:["task","Clk_task"]},showOneTask:{monitor:2057440,tdw:["task","exp_category"]},clkTaskName:{monitor:2057441,tdw:["task","Clk_name"]},showTaskShow:{monitor:2057442,tdw:["task","exp_see"]},clkTaskShow:{monitor:2057443,tdw:["task","Clk_see"]},showTaskPause:{monitor:2057444,tdw:["task","exp_start"]},clkTaskPause:{monitor:2057445,tdw:["task","Clk_stop"]},showTaskDelete:{monitor:2057446,tdw:["task","exp_delete"]},clkTaskDelete:{monitor:2057447,tdw:["task","Clk_delete"]},taskExp:{monitor:2057448,tdw:["task","exp_tips"]},clkTaskExp:{monitor:2057449,tdw:["task","Clk_tips"]},showSearchBtn:{monitor:2057450,tdw:["search","exp_button"]},clkSearchBtn:{monitor:2057451,tdw:["search","Clk_button"]},doSearch:{monitor:2057452,tdw:["search","Clk_search"]},showSearchRes:{monitor:2057453,tdw:["search","exp_result"]},clkSearchRes:{monitor:2057454,tdw:["search","Clk_result"]},clkSearchName:{monitor:2057455,tdw:["search","Clk_name"]},showFolderMove:{monitor:2057456,tdw:["oper_file","exp_move"]},clkFolderMove:{monitor:2057457,tdw:["oper_file","Clk_move"]},moveFileSuc:{monitor:2057458,tdw:["oper_file","move_suc"]},showOldVersion:{monitor:2057459,tdw:["oper_file","exp_upgradetips"]},clkUpdateQQ:{monitor:2057460,tdw:["oper_file","Clk_upgrade"]},clkNotRemind:{monitor:2057461,tdw:["oper_file","Clk_nomoreremind"]},showMoveFail:{monitor:2057462,tdw:["oper_file","exp_movefail"]},delFolderSuc:{monitor:2057463,tdw:["oper_file","delete_suc"]},jsError:{monitor:2069233},getListError:{monitor:2069234},delFileError:{monitor:2069235},moveFileError:{monitor:2069236},renameFileError:{monitor:2069237},newFolderError:{monitor:2069238},renameFolderError:{monitor:2069239},delFolderError:{monitor:2069240},cgiTimeout:{monitor:2069241},offlinePage:{monitor:2069242},nodePage:{monitor:2069243},folderNum:{tdw:["file","exp_folder"]},imgurl:{monitor:2200307},fileDownload:{monitor:2366516,tdw:["oper_file","down_in"]},blackExp:{monitor:2370085,tdw:["black","exp_foul"]},blackTips:{monitor:2370086,tdw:["black","exp_tip"]},blackDelete:{monitor:2370087,tdw:["black","delete"]}},l="Grp_pcfiles";window.badjsReport=o.createReport({id:1033}),window.addEventListener("load",function(){t(),n()}),window.addEventListener("error",function(){report("jsError")});var s=i.getParameter("gid");window.reportNew=function(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(r[t]){var n=r[t];if(n.monitor&&QReport.monitor(n.monitor),n.mac&&QReport.monitor(n.mac),G.module&&(e=G.module()),n.tdw){var i={obj1:s,opername:l,module:n.tdw[0],action:n.tdw[1]};G.mac&&(i.action=n.tdw[1]+"_mac"),i=$.extend(i,a),QReport.tdw(i)}}},window.report=function(t){{var a=arguments.length<=1||void 0===arguments[1]?-1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];arguments.length<=3||void 0===arguments[3]?0:arguments[3],arguments.length<=4||void 0===arguments[4]?0:arguments[4]}if(r[t]){var i=r[t];if(i.monitor&&QReport.monitor(i.monitor),i.mac&&QReport.monitor(i.mac),G.module&&(e=G.module()),i.tdw){var o={obj1:s,opername:l,module:i.tdw[0],action:i.tdw[1]};G.mac&&(o.action=i.tdw[1]+"_mac"),a>=0&&(o.ver1=a),n&&(o.ver2=n),QReport.tdw(o)}}}}).call(t,a(163)(e))},function(e,t,a){"use strict";function n(){v.getTips()?u.addUploadTask():(report("showOldVersion"),$("#updateQQ").addClass("open"),$("#updateQQTips").text("当前版本仅支持将文件上传至群文件首页，升级至QQ最新版本可上传文件至文件夹内。"),$("#updateQQ").find("input.btn-notips").attr("data-action","upload.cUpload"))}function i(){this.checked?(v.setTips(1),G.oldVersion=!0,$("#headerBatch .store").addClass("disabled"),report("clkNotRemind")):v.setTips(0)}function o(){$("#updateQQ").removeClass("open"),u.addUploadTask()}function r(){G.info.version<h?n():G.folderMap()&&Object.keys(G.folderMap()).length>0||"/"!==G.nowFolder?u.getBatchFiles():(report("clkUpload",G.module()),u.addUploadTask())}function l(e){if(b){var t=void 0;if("string"==typeof e?(report("clkUpload",1),t=e):t=G.folderTree.selected&&G.folderTree.selected.id||"/",$("#inputFolderNameInFolderTree").length>0)g["folderTree.create"](null,function(){t=G.folderTree.selected&&G.folderTree.selected.id||"/";u.batchUpload(t,JSON.stringify(b));b=null,m.panel.hideAll()});else{{u.batchUpload(t,JSON.stringify(b))}b=null,m.panel.hideAll()}}}function s(e,t){if(t&&0!==t.length){var a=void 0;a=e;var n="上传到群文件？";if("/"!==a){var i=w.getData(a);n="上传到文件夹："+i.fnameEsc+"？"}var o=u.confirm(1,"提示",n);if(0===o.errorCode&&o.ret){report("clkUpload",1);{u.batchUpload(a,JSON.stringify(t))}m.panel.hideAll()}}}function d(e){var t=e[0],a=e.length,n=t.lastIndexOf("\\"),i=t.substr(n+1);G.mac&&(n=t.lastIndexOf("/"),i=t.substr(n+1)),console.log(t);var o=p.getFileName(i);return a>1?'<span class="name">'+o.filename_name+"</span><span>"+o.filename_suf+'</span>等<span class="blue">'+a+"</span>个文件":'<span class="name">'+o.filename_name+"</span><span>"+o.filename_suf+"</span>"}function c(e){if(b=e,"/"!==G.nowFolder)return l(G.nowFolder),void 0;var t={title:"上传文件",firstFileName:d(e),action:"上传到：",destFolder:"群文件",okAction:"file.batchUpload"};m.showFolderTreePanel(t);var a=$("#containerFolderTreePanel");a.find("#folderTreePanel").addClass("open"),report("folderTree",0)}function f(){report("clkUpdateQQ")}var p=a(123),u=a(32),m=($("#upload-panel"),{folderTree:a(133),showFolderTreePanel:a(55).showFolderTreePanel,panel:a(55)}),v=a(2),h=G.folderVersion,g=a(119),w=a(30),b=void 0;e.exports={batchuploadInFolder:s,upload:r,bupload:l,showUpload:c,noTips:i,cupload:o,update:f}},function(e,t,a){"use strict";function n(e){delete e.status,e.isDown=!1,e.isDowning=!1,e.succ=!1,p.updateRow(e),u.removeOpenFolder(e),m.remove(e)}function i(e){if(v.trigger("menu.hide"),window.external&&window.external.isFileExist){var t=window.external.isFileExist(e);if("false"==t||t===!1){f.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置");var a=c.getFile(e);return n(a),!1}}if(window.external&&window.external.openFile){var i=window.external.openFile(e);if("success"==i)return!0;if("file cannot open"!==i)return!1}if(window.external&&window.external.openFolder){var i=window.external.openFolder(e);if("success"!=i)return f.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),!1}}function o(){if(!this.classList.contains("disable")){var e=G.selectRow,t=e.localpath;if(v.trigger("menu.hide"),"string"==typeof t&&t.indexOf("OSRoot")<0&&(t="OSRoot:\\"+t),report("clkOpenFile",G.module()),window.external&&window.external.isFileExist){var a=window.external.isFileExist(t);if("false"==a||a===!1)return f.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),n(e),!1}if(window.external&&window.external.openFolder){var i=window.external.openFolder(t);if("success"!=i)return f.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),!1}}}function r(){var e=$(this).parents(".file"),t=e.data("path"),a=c.getData(t),i=a.localpath;if(v.trigger("menu.hide"),a.safeType){var o=G.getReportInfo(a);return o.ver3=o.ver4,o.ver4=o.ver5,o.ver5=a.isDown?2:1,reportNew("blackTips",o),f.alert(2,"提示","该文件存在安全风险，无法正常使用"),void 0}if("string"==typeof i&&i.indexOf("OSRoot")<0&&(i="OSRoot:\\"+i),report("clkOpenFile",G.module()),window.external&&window.external.isFileExist){var r=window.external.isFileExist(i);if("false"==r||r===!1)return f.alert(2,"提示","此文件不存在，可能已被删除或被移动到其他位置"),n(a),!1}if(window.external&&window.external.openFile){var l=window.external.openFile(i);if("success"==l)return!0;if("file cannot open"!==l)return!1}if(window.external&&window.external.openFolder){var l=window.external.openFolder(i);if("success"!=l)return f.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),n(a),!1}}function l(){var e=this;for(v.trigger("menu.hide"),report("clkShowInFolder",G.module());!e.classList.contains("complete");)e=e.parentNode;var t=$(e),a=t.data("path"),n=c.getData(a),o=n._localpath||n.localpath||n.localname;o&&0!=o.indexOf("OSRoot:\\")&&(o="OSRoot:\\"+o);i(o)}function s(){var e=this;for(v.trigger("menu.hide");!e.classList.contains("complete");)e=e.parentNode;var t=$(e),a=t.data("path"),i=c.getData(a);if($("#boxTitle a").focus(),i){var o=i._localpath||i.localpath||i.localname;if(o){"string"==typeof o&&0!=o.indexOf("OSRoot:\\")&&(o="OSRoot:\\"+o);var r=!1;if(window.external&&window.external.openFolder){var l=window.external.openFolder(o);"success"==l?r=!0:f.alert(2,"提示","此文件夹不存在，可能被删除或被移动到其他位置")
}0==r&&n(i)}else n(i)}}function d(){if(!this.classList.contains("disable")){var e=G.selectRow.path,t=c.getFile(e);if(v.trigger("menu.hide"),t){report("clkShowInFolder",G.module());var a=t.localpath;if(a){"string"==typeof a&&0!=a.indexOf("OSRoot:\\")&&(a="OSRoot:\\"+a);var i=!1;if(window.external&&window.external.openFolder){var o=window.external.openFolder(a);console.log(o),"success"==o?i=!0:f.alert(2,"提示","此文件夹不存在，可能被删除或被移动到其他位置")}0==i&&n(t)}else n(t)}}}var c=a(30),f=a(32),p=a(6),u=a(29),m=a(2),v=$(G.handler);e.exports={openByFolder:o,openByPath:r,openByBox:l,openByMenu:d,openFolderByBoxIco:s}},function(e,t,a){"use strict";function n(){this.classList.contains("disable")||(report("clkRenameFile",G.module()),o.show(p,{title:"重命名",tips:"请为文件输入新名称",action:"file.renameFile",showValue:G.selectRow.nameEsc}))}function i(){var e=p.find(".new-name").val(),t=G.selectRow,a={file_id:t.fp,app_id:G.appid,new_file_name:e+t.suf,bus_id:t.busid,parent_folder_id:G.nowFolder};s.renameFile(a).done(function(a){0===a.ec&&(t.name=e,t.nameEsc=d.decode(e),t.fname=e+t.suf,t.fnameEsc=d.decode(t.fname),r.updateFile(t,"rename"),l.updateRow(t),u.trigger("file.thumbUpdate",t)),f.hideAll()}).fail(function(e){c.showError(e.ec,p),report("renameFileError")})}var o=a(55),r=a(30),l=a(6),s=a(36),d=a(130),c=a(132),f=(a(32),a(55)),p=$("#folderPanel"),u=$(G.handler);e.exports={showFileRename:n,renameFile:i}},function(e,t,a){"use strict";function n(e){var t=document.createElement("div"),a=this.getBoundingClientRect(),n=function(){var e=document.height,t=G.getDomPanel(),a=t[0].scrollHeight;return a+52>e?!0:!1};t.innerHTML='<div class="img"></div>',t.className="file-animate files-"+e.icon;var i=window.innerWidth-a.left-3;G.info.isAdmin&&"/"===G.nowFolder&&(i+=37),n()||(i+=10),G.mac&&(i=177),t.style.right=i+"px",t.style.top=a.top-20+"px",document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},1500)}function i(){var e=$(this).parents(".file"),t=e.data("path"),a=r.getData(t),i=this;if(a.safeType){var o=G.getReportInfo(a);return o.ver3=o.ver4,o.ver4=o.ver5,o.ver5=a.isDown?2:1,reportNew("blackTips",o),d.alert(2,"提示","该文件存在安全风险，无法正常使用"),void 0}report("clkDownloadBtn",G.module()),a&&!function(){var e=a.filepath,t=a.fnameEsc,o=a.size;a.isDowning=!0;var r={bs:a.t,fp:a.fp};l.checkOneFile(r).done(function(r){if(0===r.ec){n.call(i,a),s.updateRow(a);var l=$("#"+a.domid),c=l.attr("idx"),f=G.module()+"_"+c;reportNew("fileDownload",{ver1:G.module(),ver2:0,ver3:encodeURIComponent(a.name),ver4:encodeURIComponent(a.filetype),ver5:0,ver6:f,ver7:G.info.role}),d.addDownloadTask(e,t,o,!0)}else 0===r.ec&&3===r.audit&&d.alert("该文件因多次被举报为色情文件，已被删除")}).fail(function(){})}()}function o(e){var t=function(e){var t=e.filepath,a=e.fnameEsc,n=e.size,i={bs:e.t,fp:e.fp};l.checkOneFile(i).done(function(e){0===e.ec?d.addDownloadTask(t,a,n,!0):0===e.ec&&3===e.audit&&d.alert("该文件因多次被举报为色情文件，已被删除")}).fail(function(){})};reportNew("fileDownload",{ver1:G.module(),ver2:0,ver3:encodeURIComponent(e[0].name),ver4:encodeURIComponent(e[0].filetype),ver5:4,ver6:G.module()+"_",ver7:G.info.role});for(var a=0,n=e.length;n>a;a++){var i=e[a];i.succ||t(i)}}{var r=a(30),l=a(36),s=a(6),d=a(32);$(G.handler)}e.exports={download:i,downloadBatch:o}},function(e,t,a){"use strict";function n(){if(!this.classList.contains("disable")){report("clkRepost",G.module());var e=G.selectRow.path,t=o.getFile(e);if(t){var a=t.filepath,n=t.fnameEsc,i=t.size;r.forwardFile(n,a,i),l.trigger("menu.hide")}}}function i(){if(!this.classList.contains("disable")){report("clkPhone",G.module());var e=G.selectRow.path,t=o.getFile(e);if(t){var a=t.filepath,n=t.fnameEsc,i=t.size,s=r.forwardFileToDataLine(n,a,i);console.log(s),l.trigger("menu.hide")}}}var o=a(30),r=a(32),l=(a(118),$(G.handler));e.exports={forward:n,toMobile:i}},function(e,t,a){"use strict";function n(){if(!this.classList.contains("disable")){u.trigger("menu.hide"),report("clkDeleteFile",G.module());var e=G.selectRow.path,t=o.getFile(e);if(t){var a=l.confirm(2,"提示","你确定要删除文件 "+t.fnameEsc+" 吗?");if(0===a.errorCode&&a.ret){var n={bus_id:parseInt(t.busid),file_id:t.fp,app_id:4,parent_folder_id:G.nowFolder};r.deleteFile(n).done(function(){if(o.remove(t.filepath),s.removeRow(t),p.setClist(t,"delete"),o.updateAllNum({files:[t],action:"remove"}),G.file.capacityused=d.getSize(G.file.cu),c.renderSpace(),u.trigger("toast.show",{type:"suc",text:"删除成功"}),t.safeType){var e=G.getReportInfo(t);e.ver6=e.ver3,e.ver3=e.ver4,e.ver4=e.ver5,e.ver5=t.size,reportNew("blackDelete",e)}}).fail(function(){l.alert(2,"提示","删除失败"),report("delFileError")})}}}}function i(e,t){u.trigger("menu.hide");var a=[],n={},i=1,m=0,v=0,h=function(){m++,m===i&&G.scrollHandler&&G.scrollHandler()},g=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(0!==e.length){for(var a={},n=[],f=0,u=e.length;u>f;f++)n[f]={gc:parseInt(G.info.gc),app_id:G.appid,bus_id:e[f].busid,file_id:e[f].fp,parent_folder_id:G.nowFolder};a.file_list=JSON.stringify({file_list:n}),r.deleteFile(a).done(function(a){var n=[];if(a.fail){n=a.fail;for(var r=e.length-1;r>=0;r--)$.inArray(e[r].fp,n)&&e.splice(r,1)}report("batchDeleteSuc");var l=e.length;v+=l,e.forEach(function(e){if(s.removeRow(e),o.remove(e.filepath),p.setClist(e,"delete"),e.safeType){var t=G.getReportInfo(e);t.ver6=t.ver3,t.ver3=t.ver4,t.ver4=t.ver5,t.ver5=e.size,reportNew("blackDelete",t)}}),o.updateAllNum({files:e,action:"remove"}),G.file.capacityused=d.getSize(G.file.cu),c.renderSpace(),h(v),m===i&&t(v)}).fail(function(){l.alert(2,"提示","删除失败"),$(G.handler).trigger("panel.hideAll"),report("delFileError")})}};if(e.forEach(function(e){e.remove&&(a.push(e),n[e.fp]=e)}),i=Math.ceil(a.length/f),1===i)g(a);else for(var w=0;i>w;w++){var b=a.slice(w*f,(w+1)*f);g(b)}return!0}var o=a(30),r=a(36),l=a(32),s=a(6),d=a(123),c=a(6),f=(a(118),2),p=a(2),u=$(G.handler);e.exports={removeOne:n,removeBatch:i}},function(e,t,a){"use strict";function n(e){e.usedTime++,d.trigger("toast.hide"),l.preview(e.previewObj.url)}function i(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=void 0,a=$(this);if(e)t=e;else{var i=a.data("path");if(t=r.getFile(i),!t){var o=G.selectRow.path;t=r.getFile(o)}if(!t){var f=G.selectRow.path;t=r.getFile(f)}}if(t){if(t.safeType){var p=G.getReportInfo(t);return p.ver3=p.ver4,p.ver4=p.ver5,p.ver5=t.isDown?2:1,reportNew("blackTips",p),l.alert(2,"提示","该文件存在安全风险，无法正常使用"),void 0}var u=t.filepath,m=(t.remotetype,t.fnameEsc||t.fname),v=t.size,h=t.filetype;if($.inArray(h,c)>=0)v>20971520?l.alert(2,"提示","图片太大不支持预览，请直接下载"):(t.usedTime++,d.trigger("toast.show",{type:"wait",text:"正在加载预览图…"}),s.getOneThumb(t,n));else try{l.previewFile(u,m)}catch(g){console.log(g)}}}function o(){if(!this.classList||!this.classList.contains("disable")){d.trigger("menu.hide");var e=G.selectRow;e&&i(e)}}var r=a(30),l=a(32),s=a(129),d=$(G.handler),c=["图片"];e.exports={preview:i,menupreview:o}},function(e,t,a){"use strict";function n(){if(!this.classList||!this.classList.contains("disable")){var e=G.selectRows;if(!e)return badjsReport.info("无选择目标"),void 0;var t={title:"移动文件",firstFileName:e[0].fname,fileNum:e.length,action:"移动到：",destFolder:"/"===G.nowFolder?"群文件":G.folderMap()[G.nowFolder].fname,okAction:"file.move"};r.showFolderTreePanel(t);var a=$("#containerFolderTreePanel");a.find(".active .aria-hide").eq(0).focus(),report("folderTree",1),report("clkFolderMove")}}function i(){if(G.selectRows){var e=G.selectRows,t=[],a={},n=G.folderTree.selected.id;if(n===G.nowFolder)return console.log("can not move to the same folder"),m.trigger("toast.show",{type:"alert",text:"文件已在目标位置"}),void 0;for(var i=e.length;i--;){var o=u.getData(e[i].filepath);o&&o.safeType&&e.splice(i,1)}for(var r=e.length-1;r>=0;r--){var f=e[r];t.push({file_id:f.fp,bus_id:parseInt(f.busid),parent_folder_id:f.parentId,dest_folder_id:n,app_id:G.appid,gc:G.info.gc}),a[e[r].fp]=e[r]}p.exit(),console.log(e,t);var h=function(){y++,y>=b&&m.trigger("toast.hide")},g=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];0!==e.length&&l.moveFile(e).done(function(t){h();var i=e;if(t.fail){var o=[];try{o=JSON.parse(t.fail).fail}catch(r){}for(var l=o.length-1;l>=0;l--)a[o[l]]&&i.splice(l,1)}e.length>1?report("batchMoveSuc"):report("moveFileSuc");for(var l=i.length-1;l>=0;l--){var d=i[l],f="/"+d.bus_id+d.file_id;d=G.fileMap()[f],d.parentId=n,s.removeRow(d)}var p=void 0;(p=G.folderMap()[n])&&(p.filenum+=i.length,$('[id="'+p.domid+'"]').find(".file-size").html(p.filenum+"个文件")),s.removeFold(p),s.appendFold(p),c["panel.close"]()}).fail(function(e){h(),d.showError(e.ec),report("showMoveFail"),report("moveFileError"),console.log("fail",e)})},w=t.length,b=Math.ceil(w/v),y=0;if(m.trigger("toast.show",{type:"wait",text:"正在移动文件",autoHide:!1}),b)for(var i=0;b>i;i++){var x=t.slice(i*v,(i+1)*v);g(x)}else h(),c["panel.close"]();return!0}}function o(){f["folderTree.create"](null,i)}var r={folderTree:a(133),showFolderTreePanel:a(55).showFolderTreePanel},l=a(36),s=a(6),d=a(132),c=a(118),f=a(119),p=a(49),u=a(30),m=(a(32),$(G.handler)),v=10;e.exports={showMove:n,move:o}},function(e,t,a){"use strict";function n(){var e=G.selectRow;if(report("clkJubao"),e){var t="http://jubao.qq.com/cn/jubao?appname=im&subapp=group_file&jubaotype=article";G.checkHttps()&&(t="https://proxy.qun.qq.com/tx_tls_gate=jubao.qq.com/cn/jubao?appname=im&subapp=group_file&jubaotype=article"),t+="&impeachuin="+G.info.uin,t+="&uin="+e.uin,t+="&fid="+e.fp,t+="&fname="+encodeURIComponent(e.fnameEsc),t+="&ut="+e.ct,t+="&fs="+e.size,t+="&dt="+e.down,t+="&t="+e.t,t+="&mt="+e.mt,t+="&exp="+e.exp,t+="&gid="+G.info.gc,i.show(encodeURI(t))}o.trigger("menu.hide")}var i=(a(30),a(126)),o=$(G.handler);e.exports=n},function(e,t,a){"use strict";function n(e){c.text(e)}function i(e){for(var t=!1,a=!1,n=0,i=e.length;i>n;n++){var o=e[n],r=o.value,l=d.getData(r);l.admin&&(t=!0),l.succ||(a=!0)}t?($("#batchDel").removeClass("disabled"),$("#batchMove").removeClass("disabled")):($("#batchDel").addClass("disabled"),$("#batchMove").addClass("disabled")),a?$("#batchDown").removeClass("disabled"):$("#batchDown").addClass("disabled")}function o(){if(!G.mac){var e=G.getDomPanel()[0],t=e.querySelectorAll(".cbox:checked");t.length?(report("showSelectAll"),report("showBatch"),$(".nav").removeClass("hide"),$("body").addClass("batch-mode"),$(".file.list-item").attr("data-action","file.select"),i(t),n(t.length)):($("body").removeClass("batch-mode"),$(".file.list-item").attr("data-action",""))}}function r(){$("body").removeClass("batch-mode"),$(".cbox").prop("checked",!1),n(0)}function l(){var e=G.getDomPanel()[0];if(this.checked){report("clkSelectAll"),report("clkBatch"),G.getDomPanel().find(".cbox").prop("checked",!0);var t=e.querySelectorAll(".cbox:checked");n(t.length)}else r()}function s(){var e=G.getDomPanel()[0],t=$(this).find(".cbox");t.prop("checked")?t.prop("checked",!1):t.prop("checked",!0);var a=e.querySelectorAll(".cbox:checked");n(a.length)}var d=a(30),c=$("#selectFileNum");e.exports={check:o,exit:r,selectAll:l,select:s}},function(e,t,a){"use strict";function n(){k.getTips()||(report("showOldVersion"),i())}function i(){$("#updateQQ").addClass("open"),$("#updateQQTips").text("当前版本不支持批量另存功能，请升级QQ至最新版本后体验"),$("#updateQQ").find("input.btn-notips").attr("data-action","panel.close")}function o(e,t){switch(e){case 1:return'您选择了<span class="red">'+T+'</span>个文件,其中<span  class="red">'+_+'</span>个文件可以删除<br>您确定要删除这<span  class="red">'+_+"</span>个文件吗?";case 2:return"正在删除文件";case 3:return'已经成功删除<span class="red">'+t+"</span>个文件"}}function r(){T=0,S=0,_=0,j=[]}function l(){var e=G.getDomPanel()[0],t=e.querySelectorAll(".cbox:checked"),a=[];r(),T=t.length;for(var n=0,i=t.length;i>n;n++){var o=t[n],l=o.value,s=w.getData(l);s&&(s.remove&&_++,s.succ||C++,a.push(s))}return G.selectRows=a,a}function s(){}function d(){this.classList.contains("disabled")||(report("batchDownload"),b.hide(x),v.downloadBatch(l()),y.exit())}function c(){this.classList.contains("disabled")||(j=l(),b.showBatchPanel(x,{title:"批量删除",action:"batch.removeAction",text:o(1)}))}function f(){report("batchDelete"),b.showBatchPanel(x,{title:"批量删除",hideAll:!0,text:o(2)}),y.exit(),h.removeBatch(j,function(e){b.showBatchPanel(x,{title:"批量删除",action:"batch.removeAction",hideOk:!0,closeText:"关闭",text:o(3,e)}),r()})}function p(){this.classList.contains("disabled")||(report("batchMove"),j=l(),m.showMove())}function u(){report("batchSaveAs");var e=function(){l();var e=G.selectRows;y.exit();for(var t=[],a=e.length-1;a>=0;a--){var n=e[a];t.push({filepath:n.filepath,filename:n.fnameEsc,domid:n.domid,fname:n.fname,filetype:n.filetype,filesize:n.size})}g.saveBatch(t)};G.info.version<F?n(e):e()}var m=a(47),v=a(43),h=a(45),g=a(51),w=a(30),b=a(55),y=a(49),x=$("#batchPanel"),k=a(2),F=G.folderVersion,T=0,S=0,_=0,C=0,j=[];e.exports={remove:c,removeAction:f,download:s,downloadAction:d,move:p,save:u}},function(e,t,a){"use strict";function n(e){if(!this.classList.contains("disable")){var t=e||G.selectRow;report("clkSaveAs",G.module()),t&&1===t.orcType&&(t.inDown||!function(){var e=t.filepath,a=t.fnameEsc,n=t.size,i={bs:t.t,fp:t.fp},s=$("#"+t.domid),d=s.attr("idx"),c={ver1:G.module(),ver2:0,ver3:encodeURIComponent(t.name),ver4:encodeURIComponent(t.filetype),ver5:3,ver6:G.module()+"_"+d,ver7:G.info.role};reportNew("fileDownload",c),r.checkOneFile(i).done(function(t){if(0===t.ec){o.addDownloadTask(e,a,n)}else 0===t.ec&&3===t.audit&&o.alert("该文件因多次被举报为色情文件，已被删除")}).fail(function(){}),l.trigger("menu.hide")}())}}function i(e){var t={files:e,save2default:0},a=$("#"+e[0].domid),n=a.attr("idx"),i={ver1:G.module(),ver2:0,ver3:encodeURIComponent(e[0].fname),ver4:encodeURIComponent(e[0].filetype),ver5:5,ver6:G.module()+"_"+n,ver7:G.info.role};reportNew("fileDownload",i),o.addMultiDownloadTasks(JSON.stringify(t))}var o=a(32),r=(a(30),a(36)),l=$(G.handler);e.exports={save:n,saveBatch:i}},function(e,t,a){"use strict";var n=a(6),i={};i.byUin=function(){var e=$(this).data("uin"),t=this.innerHTML,a=function(){G.module(2),$("#navTopFolder").addClass("selected"),$("#createFolder").hide(),$("#fileNum").addClass("hide").attr("data-action","menu.filenum"),$("#headerLine").text(">"),$("#box").addClass("one"),$("#folderName").html('<div style="display: -webkit-box;"><div class="uploader-name">'+t+"</div><div>上传的文件</div></div>").removeClass("hide"),$("#normalNav").removeClass("hide"),G.mac&&$(".mac-file-top").addClass("user-module")};G.module(2),n.getList({paramsFilter:{filterUin:e,filterCode:3},succ:a,renderParams:{getByUinHide:!0,uploaderHide:!0}})()},e.exports=i},function(e,t,a){"use strict";function n(){if(!this.classList.contains("disable")){report("clkForever");var e=G.selectRow.path,t=i.getFile(e);if(t&&2===t.remoteType){var a=t.filepath,n={fp:a};o.setPermanent(n).done(function(e){if(0===e.ec){var a="/102"+e.fp;t.newFilePath=a,t.remoteType=1,t.fp=e.fp,t.temp=!1,i.updateFile(t,"permanent"),l.trigger("file.dataUpdate",t),l.trigger("toast.show",{type:"suc",text:"转存成功"})}}).fail(function(e){console.log(e),r.showError(e.ec)})}else console.log("文件不存在或者不是临时文件");l.trigger("menu.hide")}}var i=a(30),o=a(36),r=a(132),l=$(G.handler);e.exports=n},function(e,t,a){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(){return function(e,t){var a=G.getDomPanel();if(e){var n=e.file[0],i=n.domid;if(0===$("#"+i).length){n.name=d.heightLight(n.name,[t]),n.suf=d.heightLight(n.suf,[t]);var o=l({list:e.file});a.prepend(o)}$("#"+i).addClass("height-light")}}}function o(e,t){e=e||{};var a=e.busId,o=e.fileId;r.getFileAttr({bus_id:a,file_id:o}).done(function(e){var a=[];if("object"===n(e.file_info)){e.file_info.upload_size=e.file_info.size;var r=e.file_info;r.proId=r.id,r.id=o,a.push(r),a=s.setFileList(a),i()(a,t)}}).fail(function(e){console.log("fail",e)})}var r=a(36),l=a(110),s=a(30),d=a(7);G.renderOtherGroupResultFuncSingtons={};window.getFileAttr=o,e.exports=o},function(e,t,a){"use strict";function n(e,t){c.trigger("menu.hide"),e.find(".panel-title span").text(t.title),e.find(".rename-hint").text(t.tips),e.find(".btn-ok").attr("data-action",t.action);var a=e.find(".new-name");t.showValue&&a.val(t.showValue),e.find(".error-message").removeClass("show"),e.addClass("open").focus(),t.showValue&&(a[0].inputStart=!0,a[0].focus(),a[0].select(),setTimeout(function(){a[0].inputStart=!1},200))}function i(e){e.removeClass("open")}function o(e){c.trigger("menu.hide");var t=$("#containerFolderTreePanel");t.html(s.folderTreePanel(e)),d.render(t.find(".folder-tree-box")),t.find("#folderTreePanel").addClass("open")}function r(e,t){c.trigger("menu.hide"),e.addClass("open").focus(),t&&(t.hideAll?e.find(".panel-footer").addClass("hide"):e.find(".panel-footer").removeClass("hide"),t.hideOk?e.find(".btn-ok").addClass("hide"):e.find(".btn-ok").removeClass("hide"),t.closeText?e.find(".btn-no").text("确定").val("确定"):e.find(".btn-no").text("取消").val("取消"),e.find(".panel-title span").text(t.title),e.find(".panel-content").html(t.text),e.find(".btn-ok").attr("data-action",t.action))}function l(){$(".panel-overlay").removeClass("open")}var s={folderTreePanel:a(164)},d=a(133),c=$(G.handler);c.bind("panel.hideAll",l),e.exports={show:n,hide:i,hideAll:l,showFolderTreePanel:o,showBatchPanel:r}},function(e,t,a){"use strict";function n(){var e=$.trim(i.find(".new-name").val()),t={parent_id:"/",name:e};l.createFolder(t).done(function(e){var t=d.filterFolder(e.folder_info);G.folderNum++,report("createFolderSuc"),d.addData(t),o.appendFold(t),s.hideAll(),c.trigger("toast.show",{type:"suc",text:"新建文件夹成功"})}).fail(function(e){405===e.ec&&(G.canCreateFolder=!1),r.showError(e.ec,i),report("newFolderError")})}var i=$("#folderPanel"),o=a(6),r=a(132),l=a(36),s=a(55),d=a(30),c=$(G.handler);e.exports={createFolder:n}},function(e,t,a){"use strict";function n(e){if(0===e.errorCode&&e.ret){var t={id:G.selectRow.id};r.deleteFolder(t).done(function(e){if(e.ec)return client.alert(2,"提示","删除文件夹失败"),void 0;G.canCreateFolder=!0;var t=G.folderMap()[G.selectRow.id];G.folderNum--,G.folderNum<0&&(G.folderNum=0),l.remove(t.id),o.removeRow(t),d.setClist(t,"delete"),s.trigger("toast.show",{type:"suc",text:"删除文件夹成功"}),report("delFolderSuc")}).fail(function(){client.alert(2,"提示","删除文件夹失败"),report("delFolderError")})}}function i(){if(s.trigger("menu.hide"),G.selectRow){report("deleteFolder",G.module());var e=client.confirm(2,"提示","你确定要删除"+G.selectRow.fnameEsc+"以及文件夹内的所有文件吗？");e&&n(e)}}var o=a(6),r=a(36),l=a(30),s=$(G.handler),d=a(2);e.exports={showDeleteFolder:i,deleteFolder:n}},function(e,t,a){"use strict";function n(){if(c.trigger("menu.hide"),G.selectRow){var e=$.trim(i.find(".new-name").val()),t=G.selectRow.id,a={folder_id:t,new_name:e};return l.renameFolder(a).done(function(){var a=G.folderMap()[t];a.fname=e,a.fnameEsc=e,a.name=e,a.modify_time=Math.ceil((new Date).getTime()/1e3),a=d.updateFolder(a),$("[data-path='"+t+"']").find(".name").html(e),c.trigger("toast.show",{type:"suc",text:"重命名文件夹成功"}),o.updateRow(a),s.hideAll()}).fail(function(e){r.showError(e.ec,i),report("renameFolderError")}),!0}}var i=$("#folderPanel"),o=a(6),r=a(132),l=a(36),s=a(55),d=a(30),c=(a(128),$(G.handler));e.exports={renameFolder:n}},function(e,t,a){"use strict";function n(){l.getTips()||(report("showOldVersion"),i())}function i(){$("#updateQQ").addClass("open"),$("#updateQQTips").text("当前版本不支持文件夹下载功能，请升级QQ至最新版本后体验"),$("#updateQQ").find("input.btn-notips").attr("data-action","panel.close")}function o(e){var t=document.createElement("div"),a=this.getBoundingClientRect(),n=function(){var e=document.height,t=G.getDomPanel(),a=t[0].scrollHeight;return a+52>e?!0:!1};t.innerHTML='<div class="img"></div>',t.className="file-animate files-"+e.icon;var i=window.innerWidth-a.left-76;G.info.isAdmin&&(i+=47),n()&&(i-=20),G.mac&&(i=177),t.style.right=i+"px",t.style.top=a.top-20+"px",document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},1500)}function r(){var e=G.selectRow;if(G.info.version<d)return n(),void 0;if(report("downloadFolder"),e){o.call(this,e);var t=e.path,a=e.fnameEsc;client.addDownloadTask(t,a,0,!0,!0)}s.trigger("menu.hide")}var l=(a(30),a(2)),s=$(G.handler),d=G.folderVersion;e.exports={download:r}},function(e,t,a){"use strict";function n(){report("propFolder"),o.render(i,G.selectRow),i.addClass("open"),r.trigger("menu.hide"),i.find(".aria-hide")[0].focus()}var i=$("#folderPropertyPanel"),o=a(136),r=$(G.handler);e.exports={show:n}},function(e,t,a){"use strict";function n(e,t){function a(){var a=o.getData(e);t&&(a={fnameEsc:t}),r.updataFolderHeader(a);var n=location.hash;n=decodeURIComponent(n),location.hash=n.replace(/&webParams={.+}/,"")+"&webParams="+encodeURIComponent(JSON.stringify({action:"fileList",params:{folderId:G.nowFolder,fname:a.fnameEsc}}))}if(e=e||$(this).data("path"),report("clkFolder",G.module()),G.mac&&$(".mac-file-top").removeClass("user-module"),0!=G.module()&&1!=G.module()||e!==G.nowFolder){G.module("/"===e?0:1),"/"===e?$(".mac-return").addClass("disable"):$(".mac-return").removeClass("disable"),G.nowFolder=e;var n=void 0;"/"===e&&(n=Math.random()),i.getList({paramsFilter:{folderId:e,random:n},succ:a})()}}var i=a(6),o=a(30),r=a(136);e.exports={renderFolder:n}},function(e){"use strict";function t(){l.addClass("open")}function a(){l.removeClass("open")}function n(){l.removeClass("open")}function i(){console.log("ok move file")}function o(){console.log("move file create folder")}function r(e){var t=$(e.target).closest(".folder-list-item");$(".folder-list-item").removeClass("active"),t.addClass("active")}var l=$("#move-file-panel");e.exports={oveFileOpen:t,moveFileClose:a,moveFileCancel:n,moveFileOk:i,moveFileCreateFolder:o,fileActive:r}},function(e,t,a){"use strict";function n(e){var t=!1,a=new RegExp('^[^/\\\\:?*"<>|]+$');return t=a.test(e),console.log("reg",a.test(e)),t}function i(){var e=$.trim(this.value);e.length>l&&!input&&(this.value=e.substr(0,l))}function o(e){var t=this.inputStart,a=this.value,i=$(this).parents(".panel-overlay"),o=$(this).parent().find(".bubble"),r=$("#folderPanel .btn-ok").data("action");if(""===$.trim(a))return $(this).parent().find(".error-message").removeClass("show"),i.find(".btn-ok").prop("disabled",!0),o.hide(),void 0;if(n(a))$(this).parent().find(".error-message").removeClass("show"),o.hide();else{var s='文件夹名称不能包含 \\ / : * ? " < > |';"file.renameFile"===r&&(s='文件名称不能包含 \\ / : * ? " < > |'),$(this).parent().find(".error-message").text(s).addClass("show"),o.html('<span class="bot"></span><span class="top"></span>'+s).show(),i.find(".btn-ok").prop("disabled",!0)}0===a.length?i.find(".btn-ok").prop("disabled",!0):0!==a.length&&n(a)&&i.find(".btn-ok").prop("disabled",!1),a.length>l&&!t&&(this.value=a.substr(0,l)),$("#folderPanel [data-action]").length&&e&&13==e.keyCode&&!t&&$("#folderPanel [data-action]").click()}function r(){$("#folderPanel .error-message").removeClass("show")}{var l=(a(7),48);a(56)}e.exports={"input.keyup":o,"input.focus":r,"input.blur":i,folderName:n}},,function(e,t,a){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e){return r.setAllNum(e),r.setRole(e),r.setFileList(e.list)}var o=a(36),r=a(30),l={};e.exports=l,l.getList=function(e){e=e||{};var t=e.folderId||"/",a=e.filterUin||void 0,r=0,l=25,s=e.filterCode||0,d=!1,c=void 0,f=!1,p=!1;return function(e,u,m){if(!p){if(p=!0,d)return u({ec:1e3,em:"no more items"}),void 0;var v={folder_id:t,start_index:r,cnt:l,filter_code:s,filter_uin:a},h=JSON.stringify(v)===c;if(c=JSON.stringify(v),f&&h)return console.log("same params will be ignored"),void 0;m&&m();var g=function(a){p=!1,f=!0;var n={list:a.file_list,total:a.total_cnt,totalSpace:a.total_space,usedSpace:a.used_space,userRole:a.user_role,openFlag:a.open_flag};G.nowFolder=t,a.file_list&&a.file_list.length&&(r+=a.file_list.length),0===a.next_index&&(d=!0),e(i(n))};"object"===("undefined"==typeof nodeData?"undefined":n(nodeData))?(g(nodeData),nodeData=!1):o.getFileList(v).done(function(e){g(e)}).fail(function(e){report("getListError"),p=!1,f=!1,u(e)})}}},l.getFileList=function(e){o.getFileList(e).done(function(e){if(0===e.total_cnt&&"/"===folderId)return suc(!1),void 0;console.log(e);var t={list:e.file_list,total:e.total_cnt,totalSpace:e.total_space,usedSpace:e.used_space,userRole:e.user_role,openFlag:e.open_flag};G.nowFolder=folderId,e.file_list&&e.file_list.length&&(startIndex+=e.file_list.length),0===e.next_index&&(isEnd=!0),suc(i(t))}).fail(function(e){console.log(e),e.fc&&1===e.fc})},l.setAllSpace=function(e){o.getSpace().done(function(t){var a={totalSpace:t.total_space,usedSpace:t.used_space};r.setAllSpace(a),e(t)}).fail(function(e){console.log(e)})}},function(e){"use strict";var t={},a=$("#groupSize"),n=$("#groupSizeBar");t.renderSpace=function(){if("/"===G.nowFolder){a.text(G.file.capacityused+"/"+G.file.capacitytotal),$("#fileNumText").text(G.file.allnum),$("#macFileNums").text("共"+G.file.allnum+"个文件");var e=parseInt(G.file.cu/G.file.ct*100);n.css("width",e+"%"),$("#fileNum").removeClass("hide"),$(".nav").addClass("hide"),$("#normalNav").removeClass("hide")}},e.exports=t},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=function(e,t,a,n){function i(e){return o[e]||e}n=n||function(e,t,a,n){var i=t.split("\n"),o=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(o,r).map(function(e,t){var a=t+o+1;return(a==n?" >> ":"    ")+a+"| "+e}).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},t=t||function(e){return void 0==e?"":String(e).replace(r,i)};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g,l=1,s='	<div class="toast-overlay" id="toastDom">\r\n		<div class="toast">\r\n			<div class="icons-<%-locals.cls%> toast-icon"></div>\r\n			<div class="toast-message"><%-locals.text%></div>\r\n		</div>\r\n	</div>',d="D:\\qun\\clt_filetab\\src\\tpl\\toast.ejs";try{var c=[],f=c.push.bind(c);return f('	<div class="toast-overlay" id="toastDom">\r\n		<div class="toast">\r\n			<div class="icons-'),l=3,f(e.cls),f(' toast-icon"></div>\r\n			<div class="toast-message">'),l=4,f(e.text),f("</div>\r\n		</div>\r\n	</div>"),l=6,c.join("")}catch(p){n(p,s,d,l)}}},function(e){e.exports=function(e,t,a,n){function i(e){return o[e]||e}n=n||function(e,t,a,n){var i=t.split("\n"),o=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(o,r).map(function(e,t){var a=t+o+1;return(a==n?" >> ":"    ")+a+"| "+e}).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},t=t||function(e){return void 0==e?"":String(e).replace(r,i)};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g,l=1,s='<%\n	for(var i = 0,l=locals.list.length;i<l;i++){\n		var item = locals.list[i];\n		if(item.orcType === 2){\n%>\n\n	<div class="fold list-item <%if(item.succ){%>succ<%}%>" data-path="<%=item.id%>" id="<%=item.domid%>" data-action="folder.open">\n		<div class="file-select">\n\n		</div>\n		<div class="file-icons">\n			<div class="files-folder" data-action="folder.open"  data-path="<%=item.id%>" data-viewcntr="folder<%=item.domid%>"></div>\n			<i class="icons-check"></i>\n		</div>\n		<dl class="file-info">\n			<dt>\n				<div class="name" data-action="folder.open"  data-path="<%=item.id%>" data-viewcntr="folder<%=item.domid%>"><%- item.fname %></div>\n			</dt>\n\n			<dd>\n				<span class="file-size" title="<%- item.filenum %>个文件"><%- item.filenum %>个文件</span>\n				<span class="file-dot">.</span>\n				<span class="uploadtime" title="更新时间:<%= item.mtStr %>"><%= item.mtStr %> 更新</span>\n			</dd>\n		</dl>\n		<%if(locals.renderParams&&locals.renderParams.actionHide===true){}else{%>\n		<div class="file-action">\n			<div class="btn-group">\n				<a href="javascript:void(0)" class="btn-left download open open-folder-link" title="打开文件夹" tabindex="3" aria-label="打开文件夹<%- item.fname %>"  data-action="folder.open" data-path="<%=item.id%>"  data-viewcntr="folder<%=item.domid%>" tabindex="3">\n					<i class="open mac-folder"></i><%if(!G.mac){%>打开<%}%>\n				</a>\n				<a class="file-more icons-btn-right-down folder-icon-down-link" data-action="menu.foldmore" menu="file-menu" title="更多"></a>\n				<div class="aria-hide">\n					<a href="javascript:void(0)" data-focus="file.aria" aria-label="下载文件夹<%=item.fname%>" data-action="folder.download" tabindex="3">下载</a>\n					<a href="javascript:void(0)" data-focus="file.aria" aria-label="重命名文件夹<%=item.fname%>" data-action="folder.showRenameFolder" data-blur="aria.fmg" tabindex="3">重命名</a>\n					<a href="javascript:void(0)" data-focus="file.aria" aria-label="查看文件夹属性<%=item.fname%>" data-action="folder.property" data-blur="aria.fmg" tabindex="3">文件夹属性</a>\n					<%if(G.info.isAdmin){%>\n					<a href="javascript:void(0)"  data-focus="file.aria" aria-label="删除文件夹<%=item.fname%>" data-action="folder.showDeleteFolder" tabindex="3">删除</a>\n					<%}else{%>\n					<a href="javascript:void(0)"  data-focus="file.aria" aria-label="举报<%=item.fname%>" data-action="file.jubao" tabindex="3">举报</a>\n					<%}%>\n				</div>\n			</div>\n		</div>\n		<%}%>\n		<div class="line"></div>\n	</div>\n<%\n}else{\n%>\n	<div class="file list-item <%=item.icon%> <%if(item.remoteType===2){%>temp<%}%> <%if(item.succ){%>succ<%}%> <%if(item.safeType){%>illegal<%}%>" id="<%=item.domid%>" data-path="<%=item.filepath%>" <%if(!locals.renderParams){%>id="<%=item.domid%>"<%}%> <%if(item.otherGroupName){%> data-action="openGroupFile" data-uin="<%- item.gc %>"<%}%> <%if(item.preview){%>data-action="file.preview"<%}%> <%if(item.safeType){%>title="该文件存在安全风险，无法正常使用"<%}%>>\n		<div class="file-select">\n		<%if(locals.batchMode===undefined?true:locals.batchMode){%>\n			<input type="checkbox" class="cbox" data-action="file.check" aria-label="文件类型:<%=item.filetype%>,名称<%=item.fname%>,大小:<%=item.sizeStr%>,下载次数:<%=item.down%>次,上传人:<%=item.nick%>,上传时间:<%=item.ctStr%>" tabindex="3" value="<%=item.filepath%>">\n		<%}%>\n		</div>\n		<div class="file-icons" data-path="<%=item.filepath%>" <%if(item.preview){%>data-action="file.preview"<%}%>>\n			<div class="files-<%=item.icon%> <%if(item.previewObj){%>thumb<%}%>" <%if(item.previewObj){%>style="background-image:url(<%=item.previewObj.url%>);"<%}%>></div>\n			<i class="icons-check"></i>\n		</div>\n		<dl class="file-info">\n			<dt>\n				<div class="name"><%- item.name %></div>\n				<div class="suffix"><%- item.suf %></div>\n				<div class="icons-temp-icon" <%if(!item.safeType){%>title="临时文件"<%}%>></div>\n				<div class="security"></div>\n			</dt>\n\n			<dd>\n				<span class="file-size" <%if(!item.safeType){%>title="文件大小:<%= item.sizeStr%>"<%}%>><%= item.sizeStr%></span>\n				<span class="file-dot">.</span>\n				<span <%if(!item.safeType){%>title="下载次数:<%=item.down%>次"<%}%>><span class="downloadtime"><%=item.down%>次下载</span></span>\n\n				<%if(locals.renderParams&&locals.renderParams.uploaderHide===true){}else{%>\n					<span class="uploader" <%if(!item.safeType){%>title="上传者:<%=item.nick%> (<%=item.uin%>)"<%}%>><i class="uploader-name" <%if(locals.renderParams&&locals.renderParams.getByUinHide===true){%>data-action=""<%}else{%>data-action="file.getByUin"<%}%> data-uin="<%=item.uin%>"><%- item.nick%></i></span>\n				<%}%>\n\n				<span class="uploadtime" <%if(!item.safeType){%>title="上传时间:<%=item.ctStr%>"<%}%>><%= item.ctStr %></span>\n\n				<%if(item.folderName){%>\n					<span  class="uploader" <%if(!item.safeType){%>title="来自：<%=item.folderName%>"<%}%> data-action="folder.open" data-path="<%- item.parentId %>">来自：<a class="from-folder-name"><%=item.folderName%></a></span>\n				<%}%>\n\n				<%if(item.otherGroupName){%>\n					<span class="from-group">来自群：</span>\n					<span class="other-group-name" data-action="openGroupInfoCard" <%if(!item.safeType){%>title="来自群：<%=item.otherGroupName%>"<%}%> data-uin="<%- item.gc %>"><%- item.otherGroupName %></span>\n				<%}%>\n			</dd>\n		</dl>\n		<%if(locals.renderParams&&locals.renderParams.actionHide===true){}else{%>\n			<div class="file-action">\n				<div class="btn-group">\n					<%if(item.isDown){%>\n					<a href="javascript:void(0)" class="btn-left download open open-file-link" data-action="file.openFolder" title="打开" tabindex="3" aria-label="打开文件<%=item.name%>">\n						<i class="open"></i><%if(!G.mac){%>打开<%}%>\n					</a>\n					<%}else{%>\n					<a href="javascript:void(0)" class="btn-left download download-file-link" data-action="file.download" title="下载" tabindex="3" aria-label="下载文件<%=item.name%>">\n						<i class="down"></i><%if(!G.mac){%>下载<%}%>\n					</a>\n					<%}%>\n					<a class="file-more icons-btn-right-down file-icons-down-link" data-action="menu.filemore" menu="file-menu" title="更多"></a>\n				</div>\n			</div>\n		<%}%>\n		<div class="aria-hide">\n			<%if(item.admin || G.info.isAdmin){%>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="转发文件<%=item.fname%>" data-action="file.forward" tabindex="3">转发</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="转发文件到手机<%=item.fname%>" data-action="file.forwardMobile" tabindex="3">转发文件到手机</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="在文件夹中显示<%=item.fname%>" data-action="file.openFolderInBox" tabindex="3">在文件夹中显示</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="重命名文件<%=item.fname%>" data-action="file.showRename" data-blur="aria.fmg" tabindex="3">重命名</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="转存为永久文件<%=item.fname%>" data-action="file.permanent" tabindex="3">转存为永久文件</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="移动文件<%=item.fname%>" data-action="file.showMove" data-blur="aria.fmg" tabindex="3">移动文件</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="删除文件<%=item.fname%>" data-action="file.delete" tabindex="3">删除</a>\n			<%}%>\n			<a href="javascript:void(0)" data-focus="file.aria" aria-label="举报文件<%=item.fname%>" data-action="file.jubao" tabindex="3">举报文件</a>\n		</div>\n		<div class="line"></div>\n	</div>\n<%}}%>\n',d="D:\\qun\\clt_filetab\\src\\tpl\\fileRow.ejs";
try{for(var c=[],f=c.push.bind(c),p=0,u=e.list.length;u>p;p++){var m=e.list[p];2===m.orcType?(l=5,f('\n\n	<div class="fold list-item '),l=7,m.succ&&f("succ"),f('" data-path="'),f(t(m.id)),f('" id="'),f(t(m.domid)),f('" data-action="folder.open">\n		<div class="file-select">\n\n		</div>\n		<div class="file-icons">\n			<div class="files-folder" data-action="folder.open"  data-path="'),l=12,f(t(m.id)),f('" data-viewcntr="folder'),f(t(m.domid)),f('"></div>\n			<i class="icons-check"></i>\n		</div>\n		<dl class="file-info">\n			<dt>\n				<div class="name" data-action="folder.open"  data-path="'),l=17,f(t(m.id)),f('" data-viewcntr="folder'),f(t(m.domid)),f('">'),f(m.fname),f('</div>\n			</dt>\n\n			<dd>\n				<span class="file-size" title="'),l=21,f(m.filenum),f('个文件">'),f(m.filenum),f('个文件</span>\n				<span class="file-dot">.</span>\n				<span class="uploadtime" title="更新时间:'),l=23,f(t(m.mtStr)),f('">'),f(t(m.mtStr)),f(" 更新</span>\n			</dd>\n		</dl>\n		"),l=26,e.renderParams&&e.renderParams.actionHide===!0||(f('\n		<div class="file-action">\n			<div class="btn-group">\n				<a href="javascript:void(0)" class="btn-left download open open-folder-link" title="打开文件夹" tabindex="3" aria-label="打开文件夹'),l=29,f(m.fname),f('"  data-action="folder.open" data-path="'),f(t(m.id)),f('"  data-viewcntr="folder'),f(t(m.domid)),f('" tabindex="3">\n					<i class="open mac-folder"></i>'),l=30,G.mac||f("打开"),f('\n				</a>\n				<a class="file-more icons-btn-right-down folder-icon-down-link" data-action="menu.foldmore" menu="file-menu" title="更多"></a>\n				<div class="aria-hide">\n					<a href="javascript:void(0)" data-focus="file.aria" aria-label="下载文件夹'),l=34,f(t(m.fname)),f('" data-action="folder.download" tabindex="3">下载</a>\n					<a href="javascript:void(0)" data-focus="file.aria" aria-label="重命名文件夹'),l=35,f(t(m.fname)),f('" data-action="folder.showRenameFolder" data-blur="aria.fmg" tabindex="3">重命名</a>\n					<a href="javascript:void(0)" data-focus="file.aria" aria-label="查看文件夹属性'),l=36,f(t(m.fname)),f('" data-action="folder.property" data-blur="aria.fmg" tabindex="3">文件夹属性</a>\n					'),l=37,G.info.isAdmin?(f('\n					<a href="javascript:void(0)"  data-focus="file.aria" aria-label="删除文件夹'),l=38,f(t(m.fname)),f('" data-action="folder.showDeleteFolder" tabindex="3">删除</a>\n					'),l=39):(f('\n					<a href="javascript:void(0)"  data-focus="file.aria" aria-label="举报'),l=40,f(t(m.fname)),f('" data-action="file.jubao" tabindex="3">举报</a>\n					'),l=41),f("\n				</div>\n			</div>\n		</div>\n		"),l=45),f('\n		<div class="line"></div>\n	</div>\n'),l=48):(l=50,f('\n	<div class="file list-item '),l=51,f(t(m.icon)),f(" "),2===m.remoteType&&f("temp"),f(" "),m.succ&&f("succ"),f(" "),m.safeType&&f("illegal"),f('" id="'),f(t(m.domid)),f('" data-path="'),f(t(m.filepath)),f('" '),e.renderParams||(f('id="'),f(t(m.domid)),f('"')),f(" "),m.otherGroupName&&(f(' data-action="openGroupFile" data-uin="'),f(m.gc),f('"')),f(" "),m.preview&&f('data-action="file.preview"'),f(" "),m.safeType&&f('title="该文件存在安全风险，无法正常使用"'),f('>\n		<div class="file-select">\n		'),l=53,(void 0===e.batchMode?!0:e.batchMode)&&(f('\n			<input type="checkbox" class="cbox" data-action="file.check" aria-label="文件类型:'),l=54,f(t(m.filetype)),f(",名称"),f(t(m.fname)),f(",大小:"),f(t(m.sizeStr)),f(",下载次数:"),f(t(m.down)),f("次,上传人:"),f(t(m.nick)),f(",上传时间:"),f(t(m.ctStr)),f('" tabindex="3" value="'),f(t(m.filepath)),f('">\n		'),l=55),f('\n		</div>\n		<div class="file-icons" data-path="'),l=57,f(t(m.filepath)),f('" '),m.preview&&f('data-action="file.preview"'),f('>\n			<div class="files-'),l=58,f(t(m.icon)),f(" "),m.previewObj&&f("thumb"),f('" '),m.previewObj&&(f('style="background-image:url('),f(t(m.previewObj.url)),f(');"')),f('></div>\n			<i class="icons-check"></i>\n		</div>\n		<dl class="file-info">\n			<dt>\n				<div class="name">'),l=63,f(m.name),f('</div>\n				<div class="suffix">'),l=64,f(m.suf),f('</div>\n				<div class="icons-temp-icon" '),l=65,m.safeType||f('title="临时文件"'),f('></div>\n				<div class="security"></div>\n			</dt>\n\n			<dd>\n				<span class="file-size" '),l=70,m.safeType||(f('title="文件大小:'),f(t(m.sizeStr)),f('"')),f(">"),f(t(m.sizeStr)),f('</span>\n				<span class="file-dot">.</span>\n				<span '),l=72,m.safeType||(f('title="下载次数:'),f(t(m.down)),f('次"')),f('><span class="downloadtime">'),f(t(m.down)),f("次下载</span></span>\n\n				"),l=74,e.renderParams&&e.renderParams.uploaderHide===!0||(f('\n					<span class="uploader" '),l=75,m.safeType||(f('title="上传者:'),f(t(m.nick)),f(" ("),f(t(m.uin)),f(')"')),f('><i class="uploader-name" '),e.renderParams&&e.renderParams.getByUinHide===!0?f('data-action=""'):f('data-action="file.getByUin"'),f(' data-uin="'),f(t(m.uin)),f('">'),f(m.nick),f("</i></span>\n				"),l=76),f('\n\n				<span class="uploadtime" '),l=78,m.safeType||(f('title="上传时间:'),f(t(m.ctStr)),f('"')),f(">"),f(t(m.ctStr)),f("</span>\n\n				"),l=80,m.folderName&&(f('\n					<span  class="uploader" '),l=81,m.safeType||(f('title="来自：'),f(t(m.folderName)),f('"')),f(' data-action="folder.open" data-path="'),f(m.parentId),f('">来自：<a class="from-folder-name">'),f(t(m.folderName)),f("</a></span>\n				"),l=82),f("\n\n				"),l=84,m.otherGroupName&&(f('\n					<span class="from-group">来自群：</span>\n					<span class="other-group-name" data-action="openGroupInfoCard" '),l=86,m.safeType||(f('title="来自群：'),f(t(m.otherGroupName)),f('"')),f(' data-uin="'),f(m.gc),f('">'),f(m.otherGroupName),f("</span>\n				"),l=87),f("\n			</dd>\n		</dl>\n		"),l=90,e.renderParams&&e.renderParams.actionHide===!0||(f('\n			<div class="file-action">\n				<div class="btn-group">\n					'),l=93,m.isDown?(f('\n					<a href="javascript:void(0)" class="btn-left download open open-file-link" data-action="file.openFolder" title="打开" tabindex="3" aria-label="打开文件'),l=94,f(t(m.name)),f('">\n						<i class="open"></i>'),l=95,G.mac||f("打开"),f("\n					</a>\n					"),l=97):(f('\n					<a href="javascript:void(0)" class="btn-left download download-file-link" data-action="file.download" title="下载" tabindex="3" aria-label="下载文件'),l=98,f(t(m.name)),f('">\n						<i class="down"></i>'),l=99,G.mac||f("下载"),f("\n					</a>\n					"),l=101),f('\n					<a class="file-more icons-btn-right-down file-icons-down-link" data-action="menu.filemore" menu="file-menu" title="更多"></a>\n				</div>\n			</div>\n		'),l=105),f('\n		<div class="aria-hide">\n			'),l=107,(m.admin||G.info.isAdmin)&&(f('\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="转发文件'),l=108,f(t(m.fname)),f('" data-action="file.forward" tabindex="3">转发</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="转发文件到手机'),l=109,f(t(m.fname)),f('" data-action="file.forwardMobile" tabindex="3">转发文件到手机</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="在文件夹中显示'),l=110,f(t(m.fname)),f('" data-action="file.openFolderInBox" tabindex="3">在文件夹中显示</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="重命名文件'),l=111,f(t(m.fname)),f('" data-action="file.showRename" data-blur="aria.fmg" tabindex="3">重命名</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="转存为永久文件'),l=112,f(t(m.fname)),f('" data-action="file.permanent" tabindex="3">转存为永久文件</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="移动文件'),l=113,f(t(m.fname)),f('" data-action="file.showMove" data-blur="aria.fmg" tabindex="3">移动文件</a>\n				<a href="javascript:void(0)" data-focus="file.aria" aria-label="删除文件'),l=114,f(t(m.fname)),f('" data-action="file.delete" tabindex="3">删除</a>\n			'),l=115),f('\n			<a href="javascript:void(0)" data-focus="file.aria" aria-label="举报文件'),l=116,f(t(m.fname)),f('" data-action="file.jubao" tabindex="3">举报文件</a>\n		</div>\n		<div class="line"></div>\n	</div>\n'),l=120)}return f("\n"),l=121,c.join("")}catch(v){n(v,s,d,l)}}},function(e){e.exports=function(e,t,a,n){function i(e){return o[e]||e}n=n||function(e,t,a,n){var i=t.split("\n"),o=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(o,r).map(function(e,t){var a=t+o+1;return(a==n?" >> ":"    ")+a+"| "+e}).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},t=t||function(e){return void 0==e?"":String(e).replace(r,i)};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g,l=1,s='<div class="files-empty"><div><div class="icons-empty"></div><div class="empty-desc">在这里，你可以把各种有趣的东西分享给大家</div></div></div>\n',d="D:\\qun\\clt_filetab\\src\\tpl\\errormsg.ejs";try{var c=[],f=c.push.bind(c);return f('<div class="files-empty"><div><div class="icons-empty"></div><div class="empty-desc">在这里，你可以把各种有趣的东西分享给大家</div></div></div>\n'),l=2,c.join("")}catch(p){n(p,s,d,l)}}},,,function(e){"use strict";function t(e){G.cMap||(G.cMap={});var t=G.cMap[e.id];return t||(t=G.cMap[e.filepath],t&&(t&&t.type.indexOf("upload")>=0&&e.type.indexOf("upload")>=0&&t.status!=e.status?(e.id&&(plistMap[e.id]=t),console.warn("new task 发现续传 id["+t.id+"] status["+t.status+"]")):"download"==e.type&&console.log(e))),t?void 0:(e.id&&(G.cMap[e.id]=e),e.filepath&&(G.cMap[e.filepath]=e),e)}function a(e){return console.log("验证任务:",G.cMap,e,e.id,e.filepath,G.cMap[e.id]||G.cMap[e.filepath]),G.cMap[e.id]||G.cMap[e.filepath]?(console.log("已经存在数据!"),!0):!1}function n(e){G.cMap[e.id]&&delete G.cMap[e.id],G.cMap[e.filepath]&&delete G.cMap[e.filepath]}function i(){}function o(){for(var e in G.cMap){var t=G.cMap[e];t&&"uploadcomplete"===t.status&&(delete G.cMap[t.id],delete G.cMap[t.filepath])}}e.exports={check:a,add:t,del:n,update:i,clearComplete:o}},function(e){e.exports=function(e,t,a,n){function i(e){return o[e]||e}n=n||function(e,t,a,n){var i=t.split("\n"),o=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(o,r).map(function(e,t){var a=t+o+1;return(a==n?" >> ":"    ")+a+"| "+e}).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},t=t||function(e){return void 0==e?"":String(e).replace(r,i)};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g,l=1,s='<%\r\n	for(var i = 0,l = locals.list.length;i<l;i++){\r\n		var item = locals.list[i];\r\n%>\r\n<div class="file2 file2-2 <%-item.styles%>" data-path="<%-item.filepath%>" data-id="<%-item.id%>" data-folder="<%-item.folderpath%>" <%if(item.styleStatus === \'complete\'){%>data-action="task.openFolder"<%}%>>\r\n	<div class="file-icon">\r\n		<div class="files-<%-item.icon%>"></div>\r\n		<i></i>\r\n	</div>\r\n	<div class="file-info">\r\n		<div class="filename">\r\n			<div class="name"><%=item.name%></div>\r\n			<%if(item.orcType === 1){%>\r\n				<div class="suffix"><%-item.suf%></div>\r\n			<%}%>\r\n		</div>\r\n		<div class="loading">\r\n			<div class="bar" style="width:<%-item.cPercent%>%;"></div>\r\n		</div>\r\n		<%if(item.failedFileList && item.failedFileList.length > 0){%>\r\n			<div class="wording"  data-action="task.openfail">\r\n				<i class=\'warn\'></i>有<%-item.failedFileList.length%>个文件下载失败<i class="arrow"></i>\r\n					<ul class="fail-list">\r\n						<%for(var j = 0,m = item.failedFileList.length;j<m;j++){%>\r\n							<li><%=item.failedFileList[j].filename%></li>\r\n						<%}%>\r\n					</ul>\r\n			</div>\r\n		<%}else{%>\r\n			<div class="wording"><%-item.wording%></div>		\r\n		<%}%>\r\n	</div>\r\n	<div class="file-action">\r\n		<a href="javascript:void(0)" class="seat"></a>\r\n		<a href="javascript:void(0)" class="pause" data-action="task.pause" title="暂停" aria-label="暂停任务 <%=item.name%>" tabindex="3"></a>\r\n		<a href="javascript:void(0)" class="resume" data-action="task.resume" title="启动" aria-label="启动任务 <%=item.name%>" tabindex="3"></a>\r\n		<a href="javascript:void(0)" class="continue" data-action="task.continue" title="续传" aria-label="续传任务 <%=item.name%>" tabindex="3"></a>\r\n		<a href="javascript:void(0)" class="remove" data-action="task.remove" title="删除"  aria-label="删除任务 <%=item.name%>" tabindex="3"></a>\r\n		<a href="javascript:void(0)" class="ok-upload"></a>\r\n		<a href="javascript:void(0)" class="ok-download"></a>\r\n		<a href="javascript:void(0)" class="go-folder" data-action="task.openFolderIco" title="打开该文件所在的文件夹" arir-label="打开<%=item.name%>所在的文件夹" tabindex="3"></a>\r\n	</div>\r\n	<div></div>\r\n</div>\r\n<%}%>',d="D:\\qun\\clt_filetab\\src\\tpl\\task.ejs";try{for(var c=[],f=c.push.bind(c),p=0,u=e.list.length;u>p;p++){var m=e.list[p];if(l=4,f('\r\n<div class="file2 file2-2 '),l=5,f(m.styles),f('" data-path="'),f(m.filepath),f('" data-id="'),f(m.id),f('" data-folder="'),f(m.folderpath),f('" '),"complete"===m.styleStatus&&f('data-action="task.openFolder"'),f('>\r\n	<div class="file-icon">\r\n		<div class="files-'),l=7,f(m.icon),f('"></div>\r\n		<i></i>\r\n	</div>\r\n	<div class="file-info">\r\n		<div class="filename">\r\n			<div class="name">'),l=12,f(t(m.name)),f("</div>\r\n			"),l=13,1===m.orcType&&(f('\r\n				<div class="suffix">'),l=14,f(m.suf),f("</div>\r\n			"),l=15),f('\r\n		</div>\r\n		<div class="loading">\r\n			<div class="bar" style="width:'),l=18,f(m.cPercent),f('%;"></div>\r\n		</div>\r\n		'),l=20,m.failedFileList&&m.failedFileList.length>0){f('\r\n			<div class="wording"  data-action="task.openfail">\r\n				<i class=\'warn\'></i>有'),l=22,f(m.failedFileList.length),f('个文件下载失败<i class="arrow"></i>\r\n					<ul class="fail-list">\r\n						'),l=24;for(var v=0,h=m.failedFileList.length;h>v;v++)f("\r\n							<li>"),l=25,f(t(m.failedFileList[v].filename)),f("</li>\r\n						"),l=26;f("\r\n					</ul>\r\n			</div>\r\n		"),l=29}else f('\r\n			<div class="wording">'),l=30,f(m.wording),f("</div>		\r\n		"),l=31;f('\r\n	</div>\r\n	<div class="file-action">\r\n		<a href="javascript:void(0)" class="seat"></a>\r\n		<a href="javascript:void(0)" class="pause" data-action="task.pause" title="暂停" aria-label="暂停任务 '),l=35,f(t(m.name)),f('" tabindex="3"></a>\r\n		<a href="javascript:void(0)" class="resume" data-action="task.resume" title="启动" aria-label="启动任务 '),l=36,f(t(m.name)),f('" tabindex="3"></a>\r\n		<a href="javascript:void(0)" class="continue" data-action="task.continue" title="续传" aria-label="续传任务 '),l=37,f(t(m.name)),f('" tabindex="3"></a>\r\n		<a href="javascript:void(0)" class="remove" data-action="task.remove" title="删除"  aria-label="删除任务 '),l=38,f(t(m.name)),f('" tabindex="3"></a>\r\n		<a href="javascript:void(0)" class="ok-upload"></a>\r\n		<a href="javascript:void(0)" class="ok-download"></a>\r\n		<a href="javascript:void(0)" class="go-folder" data-action="task.openFolderIco" title="打开该文件所在的文件夹" arir-label="打开'),l=41,f(t(m.name)),f('所在的文件夹" tabindex="3"></a>\r\n	</div>\r\n	<div></div>\r\n</div>\r\n'),l=45}return c.join("")}catch(g){n(g,s,d,l)}}},function(e,t,a){"use strict";var n=a(167),i=a(168),o=a(169),r=a(170),l=a(171),s=a(172),d=(a(173),a(41)),c=a(174),f=a(175);e.exports={"box.toggle":n.toggle,"task.continue":i.continueUpload,"task.pause":r.pause,"task.remove":l.remove,"task.resume":s.resume,"task.clear":o.clear,"task.openFolder":d.openByBox,"task.openFolderIco":d.openFolderByBoxIco,"tips.close":f.closeTips,"tips.refesh":f.refeshVip,"tips.con":f.conVip,"tips.vipOk":f.vipTipsOk,"tips.vipCancel":f.vipTipsCancel,"tips.open":f.openVip,"task.clearHistory":o.clear,"task.openfail":c.toggle}},function(e){"use strict";function t(){}e.exports={"input.edit":t}},function(e,t,a){"use strict";var n=a(55),i=function(){n.hideAll(),G.activeElement&&G.activeElement.focus()};e.exports={"panel.close":i}},function(e,t,a){"use strict";function n(){return $('[data-keyup="folderTree.create"]').length?(console.log("can not try to create more than one folder at the same time"),void 0):(report("createFolderInTree"),r.folderTree.newFolder(),r.folderTree.select("new"),$("#inputFolderNameInFolderTree").val(p.getFolderNameDefault()),$("#inputFolderNameInFolderTree")[0].focus(),$("#inputFolderNameInFolderTree")[0].select(),void 0)}function i(e){e.keyCode=13,o.call(this,e)}function o(e,t){if(e&&13!==e.keyCode&&$("#inputFolderNameInFolderTree").length)return s["input.keyup"].call(this,e),void 0;var a=$('[data-keyup="folderTree.create"]');if(!a.length)return t&&t(),void 0;if(t&&(m=t),!u){var n=$.trim(a.val()),i=s.folderName(n);if(i){var o={parent_id:"/",name:n};u=!0,d.createFolder(o).done(function(e){var t=c.filterFolder(e.folder_info);c.addData(t),r.list.appendFold(t);var a=$(".folder-tree-box").find('[data-id="new"].folder-list-item');a.html(l.folder({item:t})).attr("data-id",t.id),"new"===G.folderTree.selected.id&&f.select(t.id),report("createFolderInTreeSuc"),u=!1,m&&m(),m=!1}).fail(function(e){console.log("fail",e),u=!1;var t={134:"文件夹名称包含违禁词",313:"文件夹名已经存在",314:"创建文件夹失败",405:"文件夹个数已达上限","default":"创建失败"},a=Math.abs(e.ec),n=$(".folder-tree-box").find(".bubble");n.html('<span class="bot"></span><span class="top"></span>'+(t[a]||t["default"])).show(),setTimeout(function(){n.hide()},3e3)})}}}var r={folderTree:a(133),list:a(6)},l={folder:a(165)},s=a(63),d=(a(166),a(36)),c=a(30),f=a(133),p=a(7),u=!1,m=!1;e.exports={"folderTree.select":f.select,"folderTree.new":n,"folderTree.create":o,createInputBlur:i}},function(e,t,a){"use strict";function n(e){"offline"===e.action||"online"===e.action}var i=a(32),o=function(){var e=parseInt($(this).data("uin"));i.openGroupInfoCard(e)},r=function(){var e=parseInt($(this).data("uin")),t=G.fileMap()[$(this).data("path")]||{},a={action:"search",params:{keyword:G.searchKeyword,files:[{fileId:t.fp,busId:t.busid}]}};localStorage.setItem("notifyOtherGroup",encodeURIComponent(JSON.stringify({gc:e,webParams:JSON.stringify(a),random:Math.random()}))),i.openGroupFile(e,encodeURIComponent(JSON.stringify(a)))};e.exports={groupEvent:n,openGroupFile:r,openGroupInfoCard:o}},function(e,t,a){"use strict";var n=a(12),i=a(11),o=a(30),r=function(){G.activeElement=this},l=function(){var e=$(document.activeElement).parents(".list-item");if(0===e.length)return!1;var t=e.data("path"),a=void 0,n=o.getData(t);return 2===n.orcType?a="fold":1==n.orcType&&(a="file"),G.selectRow=n||{},G.selectRow.path=t,G.selectRow.type=a,G.selectRows=[G.selectRow],!0},s=function(){l()&&"fold"===G.selectRow.type&&i["folder.openfolder"]()},d=function(){l()&&("file"===G.selectRow.type?n["file.showRename"]():"fold"===G.selectRow.type&&i["folder.showRenameFolder"]())},c=function(){l()&&"fold"===G.selectRow.type&&i["folder.property"]()},f=function(){l()&&("file"===G.selectRow.type?n["file.showRename"]():"fold"===G.selectRow.type&&i["folder.showRenameFolder"]())},p=function(){l()&&"file"===G.selectRow.type&&n["file.preview"]()},u=function(){l()&&"file"===G.selectRow.type&&n["file.showMove"]()},m=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];l()&&"file"===G.selectRow.type&&(e?n["file.forwardMobile"]():n["file.forward"]())},v=function(){l()&&"file"===G.selectRow.type&&n["file.jubao"]()},h=function(e){switch(e){case 65:$("#selectAllFile").click();break;case 66:$("#openBoxBtn").click();break;case 68:d();break;case 70:m();break;case 72:m(!0);break;case 74:v();break;case 76:doDownLoad();break;case 77:u();break;case 78:$("#createFolder button").click();break;case 79:s();break;case 80:c();break;case 82:f();break;case 85:$(".icons-upload-1").click();break;case 88:$(G.handler).trigger("panel.hideAll");break;case 89:p()}},g=function(e){e.altKey&&e.shiftKey&&h.call(this,e.keyCode)};e.exports={"aria.fmg":r,"aria.quick":g}},function(e,t,a){"use strict";function n(){f=s.getCookie("skey");for(var e=5381,t=0,a=f.length;a>t;++t)e+=(e<<5)+f.charCodeAt(t);var n=2147483647&e;return n}function i(){var e=s.getCookie("uin");return e?(e+="",e.replace(/^[\D0]+/g,"")):0}function o(){return!1}function r(e,t){if(d){var a=e.substr(0,e.indexOf("?"));if($.inArray(e,m)<0){var n=d.getEntriesByName(e)[0];if(!n)return;m.push(e);var i={1:n.redirectEnd-n.redirectStart,2:n.domainLookupStart-n.fetchStart,3:n.domainLookupEnd-n.domainLookupStart,4:n.connectEnd-n.connectStart,5:n.responseStart-n.requestStart,6:n.responseEnd-n.responseStart,7:n.responseEnd-n.startTime,8:n.fetchStart,9:n.domainLookupStart};if($.inArray(a,u)>=0){var o=3;e===u[1]&&(o=4),QReport.huatuo({appid:10016,flag1:1772,flag2:1,flag3:o,speedTime:i})}i.url=e,i[2]>5e3&&badjsReport.info(JSON.stringify({"重定向":i[1],appcache:i[2],dns:i[3],tcp:i[4],"接收":i[5],"完成":i[6],"总时间":i[7],fetchStart:n.fetchStart,dnsstart:n.domainLookupStart,header:t.getAllResponseHeaders&&t.getAllResponseHeaders()||!1,status:t.status,t:"0427",url:e,"离线包":"isLocal"===localVersion?"离线包请求":"非离线包请求"}))}}}function l(e,t){var a=Date.now();t=t||e.responseURL,e.done(function(n){QReport.retcode({url:t,type:1,code:n.ec,time:Date.now()-a,rate:1}),setTimeout(function(){r(t,e)},100),1==n.ec&&console.log("1","缺少登录态")}).fail(function(e,n){r(t);var i={status:e.status,statusText:e.statusText};"timeout"==n&&(i.status=999,i.statusText="timeout"),QReport.retcode({url:t,type:2,code:i.status,time:Date.now()-a,rate:1})})}var s=a(7),d=window.performance,c={};e.exports=c;var f=(s.getParameter("gc"),s.getCookie("skey")),p=(i(),s.getParameter("groupuin"),n()),u=["http://pan.qun.qq.com/cgi-bin/checkAuditFlag"],m=[];c.ajax=function(e){var t={type:"GET",dataType:"json",data:{src:"qpan",gc:e&&e.data&&e.data.gc||s.getParameter("groupuin")},xhrFields:{withCredentials:!0},success:function(){}};p&&(t.data.bkn=n()),$.extend(!0,t,e),t.headers={"Cache-Control":"no-cache,no-store"},"GET"===t.type&&(t.url+=t.url.indexOf("?")<0?"?"+$.param(t.data):"&"+$.param(t.data),t.url+="&_ti="+(new Date).getTime(),delete t.data);var a=$.ajax(t);l(a,t.url);var i={done:function(e){var n=0;return function i(e,a){e.done(function(e){0==e.ec&&a(e)}),e.fail(function(){n>=1||o(t.url)||(n++,e=$.ajax(t),l(e,t.url),i(e,a))})}(a,e),this},fail:function(e){var n=0;return function i(e,a){e.done(function(e){0!=e.ec&&a(e)}),e.fail(function(o,r){return n>=0?"timeout"==r?(report("cgiTimeout"),a({ec:504,msg:r})):a({ec:o.status}):(n++,e=$.ajax(t),l(e,t.url),i(e,a),void 0)})}(a,e),this},timeout:function(e){return a.fail(function(t,a){"timeout"==a&&e({ec:504,msg:a})}),this},always:function(e){return a.always(e),this},then:function(){return a.then.apply(a,arguments),this}};return i},c.bkn=p},function(e){"use strict";function t(e){var t={fLen:3};if("number"!=typeof e)return"";for(var a,n=e,i=["B","KB","MB","GB","TB","PB"];n>1024;)n/=1024,i.shift();n>=1e3&&(n/=1024,i.shift());var o=((""+n).length,2),r=100;if(t&&t.len&&(o=t.len),0>o&&(o=0),r=Math.pow(10,o),n=Math.floor(n*r)/r,t&&t.fLen){var l=n.toString().indexOf(".");if(n.toString().length<=t.fLen){var s=parseInt(n,10).toString().length;n=n.toFixed(t.fLen-s)}else t.fLen<n.toString().length&&(n=n.toString(),n=l>0&&3>l?n.substr(0,4):n.substr(0,3))}return a=n.toString().replace(/\.0+$/,""),a+=i[0],0===n&&(a=0),a}function a(e){var t="unknow",a={excel:/xls|xlsx/i,pdf:/pdf/i,ppt:/ppt|pptx/i,word:/doc|docx|wps/i,text:/txt/i,pic:/jpg|jpeg|jpgx|gif|bmp|png/i,music:/mp3|wma|midi|aac|ape|flac|wav|ogg/i,video:/mp4|rm|rmvb|mpeg|mov|avi|3gp|amv|dmv|flv|wmv|qsed|asf/i,zip:/rar|zip|tar|cab|uue|jar|iso|7z|ace|lzh|arj|gzip|bz2/i,code:/ink|torrent|url|vbs|tif|w3g|vbe|ssf|dll|mht|rcd|bat|sav|dat|cmd|ttf|xml|vob|sgs|mhw|js|html|htm|css/i,exe:/exe|msi/i,ipa:/ipa/i,dmg:/dmg/i,apk:/apk/i};for(var n in a){var i=a[n];if(i.test(e)){t=n;break}}return t}function n(e){var t="其他",a={"文档":/doc|docx|ppt|pptx|xsl|xslx|xls|xlsx|pdf|txt|wps/i,"图片":/jpg|jpeg|jpgx|gif|bmp|png/i,"音乐":/mp3|wma|midi|aac/i,"视频":/mp4|rm|rmvb|mpeg|mov|avi|3gp|amv|dmv|flv|wmv|qsed/i,"压缩包":/rar|zip|tar|cab|uue|jar|iso|7z|ace|lzh|arj|gzip|bz2/i,"应用":/dmg/i};for(var n in a){var i=a[n];if(i.test(e)){t=n;break}}return t}function i(e){var t=e.lastIndexOf("."),a={};return t>=0?(a.filename_name=e.substr(0,t),a.filename_suf=e.substr(t)):(a.filename_name=e,a.filename_suf=""),a}function o(e){var t=e.lastIndexOf("\\"),a=e.substr(t+1);return a}e.exports={getSize:t,getIcon:a,getType:n,getFileName:i,getFolderName:o}},function(e,t,a){"use strict";function n(e){var t=d.errorCfgPrefix[e.type]+"-"+e.status;return t in d.errorCfg&&d.errorCfg?!0:!1}function i(e){if(!e||!e.type||!e.status)return"";var t=d.errorCfgPrefix[e.type]+"-"+e.status;return t in d.errorCfg?"upload-uploadsecurityfail"===t&&d.securityattriMap[e.securityattri]?d.securityattriMap[e.securityattri]:d.errorCfg[t]:void 0}function o(e,t){return d.wordingMap[e][t]}function r(e,t){return d.styleMap[e][t]}function l(e){return d.typeMap[e]}function s(e,t){return e?(d.wordingMap[e]||console.warn("设置wording 未知任务类型=["+e+"]"),d.wordingMap[e][t]||console.warn("设置wording 未知任务状态=["+t+"]"),d.styleMap[e][t]||console.warn("设置样式 未知任务状态=["+t+"]"),void 0):!1}var d=a(125);e.exports={check:s,getType:l,getWord:o,getClass:r,ifError:n,getErrorWord:i}},function(e){"use strict";var t={upload:"upload",continueupload:"continueupload",download:"download"},a={};a.upload={scanning:"扫描中...&nbsp;&nbsp;",scanfail:"扫描失败&nbsp;&nbsp;",scanend:"扫描完成...&nbsp;&nbsp;",uploadgeturl:"准备上传...&nbsp;&nbsp;",uploadgeturlend:"上传中...&nbsp;&nbsp;",uploadadminonlyfail:"无法上传，已限制成员上传文件",uploadgeturlfail:"申请上传地址失败",uploadlimit:"文件个数达到上限，无法上传",uploadsecurityfail:"安全扫描失败",cancel:"空间不足,已取消上传",uploadprogress:"上传中:&nbsp;&nbsp;",uploadfail:"上传失败",uploadcomplete:"上传完成&nbsp;&nbsp;",filenotexsit:"文件不存在",pause:"暂停&nbsp;&nbsp;","continue":"待续传&nbsp;&nbsp;"},a.download={wait:"等待下载...&nbsp;&nbsp;",downloadready:"准备下载...&nbsp;&nbsp;",downloadgeturl:"准备下载...&nbsp;&nbsp;",downloadgeturlfail:"获取下载地址失败",cancel:"已取消下载&nbsp;&nbsp;",downloadgeturlend:"下载中...",downloadprogress:"下载中:&nbsp;&nbsp;",downloadfail:"下载失败&nbsp;&nbsp;",filenotexsit:"文件不存在",downloadcomplete:"下载完成&nbsp;&nbsp;",pause:"暂停&nbsp;&nbsp;"},a.continueupload={scanning:"扫描中...&nbsp;&nbsp;",scanfail:"扫描失败&nbsp;&nbsp;",scanend:"扫描完成...&nbsp;&nbsp;",uploadgeturl:"准备续传...&nbsp;&nbsp;",uploadgeturlend:"续传中...&nbsp;&nbsp;",uploadgeturlfail:"申请续传地址失败",uploadlimit:"文件个数达到上限，无法上传",uploadsecurityfail:"安全扫描失败",cancel:"空间不足,已取消续传",uploadprogress:"续传中:&nbsp;&nbsp;",uploadfail:"续传失败",uploadcomplete:"续传完成&nbsp;&nbsp;",pause:"暂停&nbsp;&nbsp;",filenotexsit:"文件不存在","continue":"待续传&nbsp;&nbsp;"};var n={};n.upload={scanning:"scan",scanfail:"err",scanend:"scan",uploadgeturl:"pre",uploadgeturlend:"pre",uploadgeturlfail:"err",uploadsecurityfail:"err",cancel:"err",uploadprogress:"progress",uploadfail:"err",uploadcomplete:"complete",pause:"pause",filenotexsit:"err","continue":"continue",remove:""},n.download={wait:"pre",downloadready:"pre",downloadgeturl:"pre",downloadgeturlfail:"err",cancel:"err",downloadgeturlend:"pre",downloadprogress:"progress",downloadfail:"err",filenotexsit:"err",downloadcomplete:"complete",pause:"pause"},n.continueupload={scanning:"scan",scanfail:"err",scanend:"scan",uploadgeturl:"pre",uploadgeturlend:"pre",uploadgeturlfail:"err",uploadsecurityfail:"err",cancel:"err",uploadprogress:"progress",uploadfail:"err",uploadcomplete:"complete",pause:"pause",filenotexsit:"err","continue":"continue",remove:""};var i={upload:"upload",download:"download",continueupload:"upload"},o=["安全","扫描到病毒，已取消上传","扫描到未知风险","扫描到安全风险","扫描到安全风险","扫描到安全风险","文件包含敏感词"],r={"download-downloadgeturlfail":"下载失败,请稍候再试","download-cancel":"","download-downloadfail":"下载失败","upload-scanfail":"扫描失败,请稍候再试","upload-uploadgeturlfail":"上传失败","upload-uploadsecurityfail":"上传安全扫描失败","upload-cancel":"空间不足,已取消上传","upload-uploadfail":"上传失败,请稍候再试",folderLimit:"文件夹个数以达上限"},l=300;e.exports={errorCfg:r,errorCfgPrefix:i,securityattriMap:o,styleMap:n,wordingMap:a,typeMap:t,refreshTime:l}},function(e,t,a){"use strict";function n(e){if(!r){var t=o();$("body").append(t),r=$("#jubaoDom"),l=$("#jubaoIframe")}e&&(r.addClass("open"),l.attr("src",e).addClass("open"))}function i(){r&&(r.removeClass("open"),l.removeClass("open"))}var o=a(176),r=void 0,l=void 0;e.exports={show:n,hide:i}},function(e,t){"use strict";function a(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var n=function(e){if(e.BJ_REPORT)return e.BJ_REPORT;var t=[],n=e.onerror;e.onerror=function(t,a,i,r,l){var d=t;l&&l.stack&&(d=s(l)),o(d,"Event")&&(d+=d.type?"--"+d.type+"--"+(d.target?d.target.tagName+"--"+d.target.src:""):""),v.push({msg:d,target:a,rowNum:i,colNum:r}),m(),n&&n.apply(e,arguments)};var i={id:0,uin:0,url:"",combo:1,ext:{},level:4,ignore:[],random:1,delay:1e3,submit:null},o=function(e,t){return Object.prototype.toString.call(e)==="[object "+(t||"Object")+"]"},r=function(e){var t="undefined"==typeof e?"undefined":a(e);return"object"===t&&!!e},l=function(e){try{if(e.stack){var t=e.stack.match("//[^\n]+");t=t?t[0]:"";var a=t.match(":([0-9]+):([0-9]+)");a||(a=[0,0,0]);var n=s(e);return{msg:n,rowNum:a[1],colNum:a[2],target:t.replace(a[0],"")}}return e}catch(i){return e}},s=function(e){var t=e.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,5).join("@").replace(/\?[^:]+/gi,""),a=e.toString();return t.indexOf(a)<0&&(t=a+"@"+t),t},d=function(e,t){var a=[],n=[],o=[];if(r(e)){e.level=e.level||i.level;for(var l in e){var s=e[l]||"";if(s){if(r(s))try{s=JSON.stringify(s)}catch(d){s="[BJ_REPORT detect value stringify error] "+d.toString()}o.push(l+":"+s),a.push(l+"="+encodeURIComponent(s)),n.push(l+"["+t+"]="+encodeURIComponent(s))}}}return[n.join("&"),o.join(","),a.join("&")]},c=[],f=function(e){if(i.submit)i.submit(e);else{var t=new Image;c.push(t),t.src=e}},p=[],u=0,m=function(e){if(i.report){for(;t.length;){for(var a=!1,n=t.shift(),r=d(n,p.length),l=0,s=i.ignore.length;s>l;l++){var c=i.ignore[l];if(o(c,"RegExp")&&c.test(r[1])||o(c,"Function")&&c(n,r[1])){a=!0;break}}a||(i.combo?p.push(r[0]):f(i.report+r[2]+"&_t="+ +new Date),i.onReport&&i.onReport(i.id,n))}var m=p.length;if(m){var v=function(){clearTimeout(u),f(i.report+p.join("&")+"&count="+m+"&_t="+ +new Date),u=0,p=[]};e?v():u||(u=setTimeout(v,i.delay))}}},v={push:function(e){return Math.random()>=i.random?v:(t.push(r(e)?l(e):{msg:e}),m(),v)},report:function(e){return e&&v.push(e),m(!0),v},info:function(e){return e?(r(e)?e.level=2:e={msg:e,level:2},v.push(e),v):v},debug:function(e){return e?(r(e)?e.level=1:e={msg:e,level:1},v.push(e),v):v},init:function(e){if(r(e))for(var t in e)i[t]=e[t];var a=parseInt(i.id,10);return a&&(i.report=(i.url||"//badjs2.qq.com/badjs")+"?id="+a+"&uin="+parseInt(i.uin||(document.cookie.match(/\buin=\D+(\d+)/)||[])[1],10)+"&from="+encodeURIComponent(location.href)+"&ext="+JSON.stringify(i.ext)+"&"),v},__onerror__:e.onerror};return v}(window);t.createReport=function(e){e=e||{};var t=e.id;if(!t)throw new Error("id is required");return n.init({id:t}),n}},function(e){"use strict";function t(e){var t=Math.ceil(e/86400);return t}function a(e){return e=g(e),e.getFullYear()!=G.getFullYear()?!1:e.getMonth()!=G.getMonth()?!1:e.getDate()!=G.getDate()?!1:!0}function n(e){e=g(e);var t=a(e),n=!1;if(!t){var i=new Date(G.getFullYear(),G.getMonth(),G.getDate())-e;n=i>0&&864e5>i}return n}function i(e){e=g(e);var t=a(e),n=!1;if(!t){var i=new Date(G.getFullYear(),G.getMonth(),G.getDate())-e;n=i>0&&1728e5>i}return n}function o(e){e=g(e);var t=a(e),n=!1;if(!t){var i=new Date(G.getFullYear(),G.getMonth(),G.getDate())-e;n=i>=0&&864e5>=i}return n?"昨天":"前天"}function r(e){e=g(e);var t=a(e),n=!1;if(!t){var i=new Date(G.getFullYear(),G.getMonth(),G.getDate())-e;n=i>0&&1728e5>i}return n}function l(e){e=g(e);var t=f(G);return e>t?!0:!1}function s(e){return e=g(e),e.getYear()!=G.getYear()?!1:!0}function d(e){e||(e=G.getFullYear());var t=new Date(e,0,1),a=t.getDay();0===a&&(a=7);{var n=[null,"一","二","三","四","五","六","日"];"周"+n[a]}return 1!=a&&t.setDate(9-a),t}function c(e){var t=new Date(e),a=d(t.getFullYear()),n=0,i=void 0;return a.getDate()>1&&(n=1),i=a>t?1:Math.floor((t-a)/7/864e5)+n}function f(e){var t=g(e),a=t.getDay();0===a&&(a=7);var n=a-1,i=void 0;return i=new Date(t.getTime()-864e5*n)}function p(e){var t=g(e),a=t.getDay();return 0===a&&(a=7),a}function u(){}function m(e){if(e){var t=g(e),a=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),o=t.getHours(),r=t.getMinutes();return 10>r&&(r="0"+r),a+"-"+n+"-"+i+" "+o+":"+r}}function v(e){if(e){var t=g(e),a=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),o=(t.getHours(),t.getMinutes());return 10>o&&(o="0"+o),a+"-"+n+"-"+i}}function h(e){var t=g(e),a=new Date,n=a.getTime()-t.getTime(),i=parseInt(n/36e5,10);return 1>i?i="刚刚":i+="小时前",i}function g(e){var t=e;return"string"==typeof e&&(t=new Date(e)),"number"==typeof e&&(t=new Date(1e3*e)),t}function w(e){if(e){var t=60,a=3600,n=86400,i="";
return i=e>=n?Math.ceil(e/n)+"天":e>=a?Math.ceil(e/a)+"小时":e>=t?Math.ceil(e/t)+"分钟":e>0?e+"秒":"已过期"}}function b(e){var t=void 0,n=void 0;return"number"==typeof e?t=new Date(1e3*e):e instanceof Date&&(t=e),n=a(t)?"今天":i(t)?o(t):v(t)}function y(e){var t=e.createtime;e.day_str=b(t),e.createtime_str=m(t),"今天"===e.day_str&&(e.createtime_str=h(t)),"最近三天"===e.day_str&&(e.createtime_str=o(t))}{var G=new Date;G.getFullYear()}e.exports={dayStr:b,genTimeStr:y,getValidity:w,toDate:g,getHourStr:h,getExpriesDayNum:t,isToday:a,isYesterday:n,strYesterdayOrPre:o,isLast3days:r,isThisWeek:l,isThisYear:s,getMonOY:d,getWOY:c,getMOW:f,getDayOfWeek:p,getDayOfYear:u,getDateStr:m}},function(e,t,a){"use strict";function n(e){var t=e.filepath,a=e.remoteType,n=e.fname,i=e.fp;i||(i=t.substr(4));var o=1==a?0:1,i=o+"<"+i+"<"+escape(n);return i}function i(e){for(var t="",a=0;a<e.length;a++)a>0&&(t+=":"),t+=n(e[a]);return t}var o=a(36),r={},l=$(G.handler);e.exports=r;var s=18e4;r.getThumb=function(e){if(G.flagThumb){var t=i(e),a={id:Math.floor((new Date).getTime()/1e3),fp_list:t};o.getPreview(a).done(function(t){if(0===t.ec){t.address_list||(t.address_list=[]);for(var a=0,n=e.length;n>a;a++){var i=e[a],o=t.address_list[a];o.t=(new Date).getTime(),i&&(i.usedTime=0,G.previewCache[i.filepath]=o,i.previewObj=o,l.trigger("file.thumbUpdate",i))}}}).fail(function(){})}},r.getOneThumb=function(e,t){var a=(new Date).getTime();try{if(a-e.previewObj.t<s&&e.usedTime<=3)return t(e),void 0}catch(i){console.log(i)}var r={id:Math.floor((new Date).getTime()/1e3),fp_list:n(e)};o.getPreview(r).done(function(a){if(0===a.ec){a.address_list||(a.address_list=[]);var n=a.address_list[0];n.t=(new Date).getTime(),e.usedTime=0,e.previewObj=n,t(e)}}).fail(function(){})}},function(e){"use strict";var t=function(){var e=/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,t=/&\w+;|&#(\d+);/g,a={"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&quot;":'"',"&copy;":""},n=function(t){return t=void 0!=t?t:"","string"!=typeof t?t:t.replace(e,function(e){var t=e.charCodeAt(0),a=["&#"];return t=32==t?160:t,a.push(t),a.push(";"),a.join("")})},i=function(e){e=void 0!=e?e:"";var n="string"!=typeof e?e:e.replace(t,function(e,t){var n=a[e];return void 0==n&&(n=isNaN(t)?e:String.fromCharCode(160==t?32:t)),n});return n=n.replace(/&#x2028;/g,"\u2028"),n=n.replace(/&#x2029;/g,"\u2029")};return{encodeHtml:n,decodeHtml:i}}();e.exports={encode:t.encodeHtml,decode:t.decodeHtml}},function(e,t,a){"use strict";function n(){var e=r(G.info);l.html(e)}function i(){var e=o({mac:G.mac});l.html(e)}var o=a(177),r=a(178),l=$("#fileMoreMenu");e.exports={renderFolder:n,renderFile:i}},function(e,t,a){"use strict";function n(e,t){if(e=Math.abs(e),r[e]&&$.inArray(e,d)>=0)t.find(".error-message").text(r[e]).addClass("show");else{var a=r[e]||"操作失败";l.trigger("toast.show",{type:"alert",text:a}),s.hideAll()}}function i(){l.trigger("toast.show",{type:"alert",text:msg})}function o(){l.trigger("toast.show",{type:"alert",text:msg})}var r={102:"非群成员",103:"该文件不存在或已失效",106:"登录态校验失败",116:"没有权限",117:"没有权限",118:"没有权限",119:"没有权限",120:"没有权限",121:"没有权限",122:"没有权限",123:"没有权限",124:"没有权限",125:"没有权限",126:"没有权限",127:"没有权限",128:"没有权限",129:"没有权限",130:"没有权限",131:"没有权限",132:"文件存在安全风险",133:"文件安全性未知",134:"名称包含特殊/敏感字符，请重新输入。",313:"已存在同名文件夹，请重新命名",314:"创建文件夹失败",315:"删除文件夹失败",402:"文件数量已经超过限制",403:"可用空间不够",405:"创建失败，文件夹个数已达上限",25:"操作失败，空间不足."},l=$(G.handler),s=a(55),d=[134,313,405];e.exports={showError:n,showWait:i,showSuc:o}},function(e,t,a){"use strict";function n(e){G.folderTree=G.folderTree||{};var t="/"===G.nowFolder?{fname:"群文件",id:"/"}:G.folderMap()[G.nowFolder];G.folderTree&&G.folderTree.selected&&(G.folderTree.selected=t),G.folderTree.container=$(e);for(var a=[],n=Object.keys(G.folderMap()),o=n.length-1;o>=0;o--)a.push(G.folderMap()[n[o]]);a=s.quickSortByObjectAttr(a,"mt"),$(e).html(r.folderTree({topFolder:G.topFolder,items:a})),i(t.id)}function i(e){if(console.log(this),e=e||$(this).data("id")){G.folderTree||(G.folderTree={}),l.find(".active").removeClass("active");var t={};"/"===e?t=G.folderTree.selected=G.topFolder:"new"!==e?t=G.folderTree.selected=G.folderMap()[e]:(t={id:e},G.folderTree.selected=t),$('.folder-list-item[data-id="'+t.id+'"]').addClass("active"),void 0!==t.fname&&l.find('[data-role="dest"]').html(t.fname)}}function o(){var e=G.folderTree.container.find(".secondary-folder-list li");e.length?e.first().before(r.newFloder()):G.folderTree.container.find(".secondary-folder-list").append(r.newFloder())}var r={folderTree:a(185),newFloder:a(186)},l=$("#containerFolderTreePanel"),s=a(7);e.exports={render:n,newFolder:o,select:i}},function(e,t,a){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e){if("object"!==("undefined"==typeof e?"undefined":n(e)))return console.error("onFiletransporterEvent param parse error"),void 0;var t=e.event,a=e.task,i={newtask:"newtask",taskcomplete:"taskcomplete",taskpause:"taskpause",taskresume:"taskresume",startprogress:"taskprogress",taskabort:"taskabort"};"undefined"!=typeof i[t]&&"undefined"!=typeof r[i[t]]&&(console.log("收到任务:",a,e),a=o.get(a),r[i[t]](a),console.log("-------------"),$(G.handler).trigger("task.startRefresh"))}var o=a(31),r={newtask:a(179),taskcomplete:a(180),taskpause:a(181),taskresume:a(182),taskprogress:a(183),taskabort:a(184)};e.exports={fileEvent:i}},function(e,t,a){"use strict";function n(e){o.showUpload(e)}function i(e){for(var t=e.fileList,a=[],n=0,i=t.length;i>n;n++){var r=t[n];a.push(r.filepath)}o.batchuploadInFolder(G.nowFolder,a)}var o=a(40);e.exports={uploadEvent:n,dropEvent:i}},function(e,t,a){"use strict";function n(e,t){var a=o(t);e.html(a)}function i(e){e?($("#navTopFolder").addClass("selected"),$("#createFolder").hide(),$("#fileNum").addClass("hide").attr("data-action","menu.filenum"),$("#headerLine").text(">"),$("#box").addClass("one"),$("#folderName").text(e.fnameEsc).removeClass("hide")):($("#navTopFolder").removeClass("selected"),G.info.isAdmin&&$("#createFolder").show(),$("#headerLine").text("|"),$("#fileNum").removeClass("hide").attr("data-action","menu.filenum"),$("#folderName").text("").addClass("hide"),$("#box").removeClass("one")),$("#normalNav").removeClass("hide")}{var o=a(154);a(155)}e.exports={render:n,updataFolderHeader:i}},,,,,,,,,,,,,,,,,,function(e){e.exports=function(e,t,a,n){function i(e){return o[e]||e}n=n||function(e,t,a,n){var i=t.split("\n"),o=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(o,r).map(function(e,t){var a=t+o+1;return(a==n?" >> ":"    ")+a+"| "+e}).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},t=t||function(e){return void 0==e?"":String(e).replace(r,i)};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g,l=1,s='		<div class="panel">\n			<div class="panel-title">\n				<i class="icons-qq"></i>\n				<span>文件夹属性</span>\n				<div class="close" data-action="panel.close"></div>\n			</div>\n			<div class="panel-body">\n				<div class="panel-content">\n					<div class="folder-property-top">\n						<div class="files-folder filesmall-folder"></div>\n						<div class="folder-title">\n							<div class="folder-name"><%-locals.fname%></div>\n							<div class="folder-size">共<%=locals.filenum%>个文件</div>\n						</div>\n					</div>\n					<div class="folder-property-bottom">\n						<div class="created-at">\n							<span class="folder-property-label">创建时间:</span>\n							<span class="folder-property-content"><%=locals.ctStr%></span>\n						</div>\n						<div class="creator">\n							<span class="folder-property-label">创&nbsp;&nbsp;建&nbsp;&nbsp;人:</span>\n							<span class="folder-property-content"><%-locals.nick%></span>\n						</div>\n						<div class="updated-at">\n							<span class="folder-property-label">最后更新时间:</span>\n							<span class="folder-property-content"><%=locals.mtStr%></span>\n						</div>\n						<div class="updater">\n							<span class="folder-property-label">最&nbsp;后&nbsp;更&nbsp;新&nbsp;人:</span>\n							<span class="folder-property-content"><%-locals.mnick%></span>\n						</div>\n					</div>\n				</div>\n			</div>\n			<a href="javascript:void(0);" class="aria-hide" tabindex="3" aria-label="文件夹<%-locals.fname%>共<%=locals.filenum%>个文件 创建时间:<%=locals.ctStr%> 创建人:<%-locals.nick%> 最后更新人:<%-locals.mnick%>"></a>\n			<a href="javascript:void(0);" class="aria-hide" data-action="panel.close" tabindex="3" aria-label="关闭文件夹属性窗口"></a>\n			<%if(G.mac){%>\n				<div class="panel-footer">\n					<input aria-label="确定" type="submit" value="确定" class="btn-ok btn-common btn-right" data-action="panel.close" tabindex="2">\n				</div>\n			<%}%>\n		</div>\n\n',d="D:\\qun\\clt_filetab\\src\\tpl\\folderproperty.ejs";try{var c=[],f=c.push.bind(c);return f('		<div class="panel">\n			<div class="panel-title">\n				<i class="icons-qq"></i>\n				<span>文件夹属性</span>\n				<div class="close" data-action="panel.close"></div>\n			</div>\n			<div class="panel-body">\n				<div class="panel-content">\n					<div class="folder-property-top">\n						<div class="files-folder filesmall-folder"></div>\n						<div class="folder-title">\n							<div class="folder-name">'),l=12,f(e.fname),f('</div>\n							<div class="folder-size">共'),l=13,f(t(e.filenum)),f('个文件</div>\n						</div>\n					</div>\n					<div class="folder-property-bottom">\n						<div class="created-at">\n							<span class="folder-property-label">创建时间:</span>\n							<span class="folder-property-content">'),l=19,f(t(e.ctStr)),f('</span>\n						</div>\n						<div class="creator">\n							<span class="folder-property-label">创&nbsp;&nbsp;建&nbsp;&nbsp;人:</span>\n							<span class="folder-property-content">'),l=23,f(e.nick),f('</span>\n						</div>\n						<div class="updated-at">\n							<span class="folder-property-label">最后更新时间:</span>\n							<span class="folder-property-content">'),l=27,f(t(e.mtStr)),f('</span>\n						</div>\n						<div class="updater">\n							<span class="folder-property-label">最&nbsp;后&nbsp;更&nbsp;新&nbsp;人:</span>\n							<span class="folder-property-content">'),l=31,f(e.mnick),f('</span>\n						</div>\n					</div>\n				</div>\n			</div>\n			<a href="javascript:void(0);" class="aria-hide" tabindex="3" aria-label="文件夹'),l=36,f(e.fname),f("共"),f(t(e.filenum)),f("个文件 创建时间:"),f(t(e.ctStr)),f(" 创建人:"),f(e.nick),f(" 最后更新人:"),f(e.mnick),f('"></a>\n			<a href="javascript:void(0);" class="aria-hide" data-action="panel.close" tabindex="3" aria-label="关闭文件夹属性窗口"></a>\n			'),l=38,G.mac&&(f('\n				<div class="panel-footer">\n					<input aria-label="确定" type="submit" value="确定" class="btn-ok btn-common btn-right" data-action="panel.close" tabindex="2">\n				</div>\n			'),l=42),f("\n		</div>\n\n"),l=45,c.join("")}catch(p){n(p,s,d,l)}}},function(e){e.exports=function(e,t,a,n){function i(e){return o[e]||e}n=n||function(e,t,a,n){var i=t.split("\n"),o=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(o,r).map(function(e,t){var a=t+o+1;return(a==n?" >> ":"    ")+a+"| "+e}).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},t=t||function(e){return void 0==e?"":String(e).replace(r,i)};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g,l=1,s='<section class="file-list" id="<%-locals.id%>"></section>',d="D:\\qun\\clt_filetab\\src\\tpl\\folderdom.ejs";try{var c=[],f=c.push.bind(c);return f('<section class="file-list" id="'),f(e.id),f('"></section>'),c.join("")}catch(p){n(p,s,d,l)}}},,,,,,,,function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,a){var n=a(204);e.exports=function(e){var t,a=[],i=e||{};return function(e,i,o,r,l,s,d,c){a.push('<!-- 移动文件/上传文件 公用模态框--><div id="folderTreePanel" role="panel" class="panel-overlay folder-tree-panel"><div class="panel"><div class="panel-title"><i class="icons-qq"></i><span>'+n.escape(null==(t=c)?"":t)+'</span><div data-action="panel.close" data-dismiss="panel" aria-label="取消" class="close"></div></div><div class="panel-body"><div class="panel-content"><div class="selected-files"><span class="file-name">'+(null==(t=s)?"":t)+"</span>"),l>1&&a.push('						等 <span class="file-number">'+(null==(t=l)?"":t)+"</span> 个文件"),a.push('</div><div class="translateTo"><span class="translateTo-label">'+n.escape(null==(t=i)?"":t)+'</span><span class="little-folder-icon"></span><div data-role="dest" class="selected-folder-name">'+(null==(t=r)?"":t)+'</div></div><div class="folder-tree-box"></div></div></div><div class="panel-footer">'),(o=e.info.isAdmin)&&a.push('<input type="submit" value="新建文件夹" data-action="folderTree.new" class="btn-create btn-common"/>'),a.push('<input type="submit" value="取消" data-action="panel.close" data-dismiss="panel" tabindex="3" class="btn-no btn-common btn-right"/><input type="submit" value="确定"'+n.attr("data-action",""+d,!0,!1)+' tabindex="3" class="btn-ok btn-common btn-right"/></div></div></div>')}.call(this,"G"in i?i.G:"undefined"!=typeof G?G:void 0,"action"in i?i.action:"undefined"!=typeof action?action:void 0,"canCreatFolder"in i?i.canCreatFolder:"undefined"!=typeof canCreatFolder?canCreatFolder:void 0,"destFolder"in i?i.destFolder:"undefined"!=typeof destFolder?destFolder:void 0,"fileNum"in i?i.fileNum:"undefined"!=typeof fileNum?fileNum:void 0,"firstFileName"in i?i.firstFileName:"undefined"!=typeof firstFileName?firstFileName:void 0,"okAction"in i?i.okAction:"undefined"!=typeof okAction?okAction:void 0,"title"in i?i.title:"undefined"!=typeof title?title:void 0),a.join("")}},function(e,t,a){a(204);e.exports=function(e){var t,a=[],n=e||{};return function(e){a.push('<!--文件夹模板--><div class="whole-row"></div><div class="folder-info"><span class="little-folder-icon"></span><span class="folder-name">'+(null==(t=e.fname)?"":t)+"</span></div>")}.call(this,"item"in n?n.item:"undefined"!=typeof item?item:void 0),a.join("")}},function(e,t,a){"use strict";var n=a(36),i=(a(30),{});e.exports=i,i.createFolder=function(e,t){n.createFolder(e).done(function(e){t(e)}).fail(function(){})},i.renameFolder=function(){},i.deleteFolder=function(){}},function(e,t,a){"use strict";function n(){report("clkTask"),d?o():(i(),r.removePoint())}function i(){report("showTask"),c||r.firstRender(),c=!0,d=!0,l.addClass("open"),$("#boxTitle a").focus()}function o(){d=!1,l.removeClass("open"),G.activeElement&&G.activeElement.focus()}var r=a(29),l=$("#box"),s=$(G.handler),d=!1,c=!1;s.bind("box.hide",o),e.exports={toggle:n}},function(e,t,a){"use strict";function n(){var e=$(this.parentNode.parentNode),t=e.data("path"),a=o.getTask(t);t=a.filepath;var n=a.remoteType,r=a.localpath,l=a.fnameEsc||a.fname;console.log("调用续传接口:",a,t);var s=i.addContinueUploadTask(t,r,l,n);$("#boxTitle a").focus(),console.log("continueUpload ret:",s)}var i=a(32),o=a(30);e.exports={continueUpload:n}},function(e,t,a){"use strict";function n(){{var e=$(this.parentNode.parentNode),t=e.data("path");r.getFile(t)}r.clearComplete(),o.clearComplete(),i.clearClist(),l.clearClist()}var i=a(32),o=a(29),r=a(30),l=a(2);e.exports={clear:n}},function(e,t,a){"use strict";function n(){{var e=$(this.parentNode.parentNode),t=e.data("path"),a=e.data("id"),n=o.getTask(a,t);i.pauseTask(a)}$("#boxTitle a").focus(),report("clkTaskPause","undefined"==typeof n.downloadtasktype?0:1)}var i=a(32),o=a(30);e.exports={pause:n}},function(e,t,a){"use strict";function n(){var e=$(this.parentNode.parentNode),t=e.data("id"),a=e.data("path"),n=r.getTask(t);n||(n=r.getTask(a));var d=n.type,c=!0,f=n.filepath;if(report("clkTaskDelete"),$("#boxTitle a").focus(),n.id){{i.removeTask(n.id)}c=!0}if(c){if(n.id&&r.remove(n.id),"download"!==n.type&&r.remove(n.filepath),n.status="remove",s.trigger("client.updateTask",n),d&&d.indexOf("upload")>=0){if(f){var p={app_id:G.appid,bus_id:n.busid,file_id:n.fp,parent_folder_id:G.nowFolder};o.deleteFile(p).done(function(e){console.log(e),r.remove(n)}).fail(function(e){e.fc&&1===e.fc})}}else"download"===d&&(i.removeTask(n.id),i.removeCompleteTask(n.id));i.clearClist();var u=r.getData(f);u&&(u.isDowning=!1),l.updateRow(u)}}var i=a(32),o=(a(7),a(36)),r=a(30),l=(a(29),a(6)),s=$(G.handler);s.bind("task.removeOne",function(e,t){var a=i.removeTask(t);console.log(a,t)}),e.exports={remove:n}},function(e,t,a){"use strict";function n(){{var e=$(this.parentNode.parentNode),t=e.data("path"),a=o.getTask(t),n=a.id;i.resumeTask(n)}report("clkTaskPause"),$("#boxTitle a").focus()}var i=a(32),o=a(30);e.exports={resume:n}},function(e,t,a){"use strict";function n(){c&&(clearTimeout(c),c=0)}function i(){c||o()}function o(){var e=r.getTaskListAdv(),t=!1;if(e.empty&&"ok"===e.status)n();else for(var a=/progress|ready|scan|geturl/gi,i=s.cleanMap(e.map),f=0,p=i.length;p>f;f++){var u=i[f];d.trigger("client.updateTask",u),a.test(u.status)&&(t=!0)}t?c=setTimeout(o,l):(console.log("do stop refresh!"),n())}var r=a(32),l=a(125).refreshTime,s=a(31),d=$(G.handler),c=0;$(G.handler).bind("task.startRefresh",i),$(G.handler).bind("task.stopRefresh",n)},function(e){"use strict";function t(){this.classList.contains("open")?this.classList.remove("open"):(report("clkTaskExp"),this.classList.add("open"))}e.exports={toggle:t}},function(e,t,a){"use strict";var n=a(36),i=(a(32),a(30),{});e.exports=i,i.closeTips=function(){},i.refeshVip=function(){n.checkVip().done(function(e){console.log(e)}).fail(function(){})},i.conVip=function(){window.open("http://pay.qq.com/ipay/index.shtml?c=cjclub&aid=vip.gongneng.client.qunwenjian_openvip&ADTAG=CLIENT.QQ.GroupFile_OpenSVIP")},i.vipTipsOk=function(){window.open("http://pay.qq.com/ipay/index.shtml?c=cjclub&aid=vip.gongneng.client.qunwenjian_openvip&ADTAG=CLIENT.QQ.GroupFile_OpenSVIP")},i.vipTipsCancel=function(){},i.openVip=function(){}},function(e){e.exports=function(e,t,a,n){function i(e){return o[e]||e}n=n||function(e,t,a,n){var i=t.split("\n"),o=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(o,r).map(function(e,t){var a=t+o+1;return(a==n?" >> ":"    ")+a+"| "+e}).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},t=t||function(e){return void 0==e?"":String(e).replace(r,i)};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g,l=1,s='  <div class="panel-con jubao-panel" id="jubaoDom">\r\n    <iframe class="frame-jubao" id="jubaoIframe" frameborder="0" scrolling="no"></iframe>\r\n  </div>',d="D:\\qun\\clt_filetab\\src\\tpl\\jubao.ejs";try{var c=[],f=c.push.bind(c);return f('  <div class="panel-con jubao-panel" id="jubaoDom">\r\n    <iframe class="frame-jubao" id="jubaoIframe" frameborder="0" scrolling="no"></iframe>\r\n  </div>'),l=3,c.join("")}catch(p){n(p,s,d,l)}}},function(e){e.exports=function(e,t,a,n){function i(e){return o[e]||e}n=n||function(e,t,a,n){var i=t.split("\n"),o=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(o,r).map(function(e,t){var a=t+o+1;return(a==n?" >> ":"    ")+a+"| "+e}).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},t=t||function(e){return void 0==e?"":String(e).replace(r,i)};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g,l=1,s='		<li class="item with-icon-item disable" id="filePreview" data-action="file.menupreview" aria-label="预览"><span class="icons-preview"></span><span class="menu-item-label">预览</span></li>\n		<%if(!G.mac){%>\n			<li class="item" id="fileFoward" data-action="file.forward" aria-label="转发">转发</li>\n			<li class="item" id="fileFowardTo" data-action="file.forwardMobile" aria-label="转发到手机" tabindex="1">转发到手机</li>\n		<%}%>\n		<li class="item save-as open-folder with-icon-item" id="fileOpenFolder" data-action="file.openFolderInBox" aria-label="在文件夹中显示" tabindex="1"><span class="icons-menu-save-as"></span><span class="menu-item-label">在文件夹中显示</span></li>\n		<li class="gap" tabindex="1"></li>\n		<li class="item rename" id="renameFile" data-action="file.showRename" aria-label="重命名" tabindex="1">重命名</li>\n		<li class="item forever disable" id="foreverFile" data-action="file.permanent" aria-label="转存为永久文件" tabindex="-1">转存为永久文件</li>\n		<%if(G.info.isAdmin){%>\n		<li class="item " id="fileMove" data-action="file.showMove" aria-label="移动" tabindex="-1">移动</li>\n		<%}%>\n		<li class="item jubao" id="fileJubao" data-action="file.jubao" aria-label="举报" tabindex="1">举报</li>\n		<li class="gap" tabindex="1"></li>\n		<li class="item delete with-icon-item" data-action="file.delete" id="fileDelete" aria-label="删除" tabindex="1"><span class="icons-trash"></span><span class="menu-item-label">删除</span></li>\n',d="D:\\qun\\clt_filetab\\src\\tpl\\fileMenu.ejs";try{var c=[],f=c.push.bind(c);return f('		<li class="item with-icon-item disable" id="filePreview" data-action="file.menupreview" aria-label="预览"><span class="icons-preview"></span><span class="menu-item-label">预览</span></li>\n		'),l=2,G.mac||(f('\n			<li class="item" id="fileFoward" data-action="file.forward" aria-label="转发">转发</li>\n			<li class="item" id="fileFowardTo" data-action="file.forwardMobile" aria-label="转发到手机" tabindex="1">转发到手机</li>\n		'),l=5),f('\n		<li class="item save-as open-folder with-icon-item" id="fileOpenFolder" data-action="file.openFolderInBox" aria-label="在文件夹中显示" tabindex="1"><span class="icons-menu-save-as"></span><span class="menu-item-label">在文件夹中显示</span></li>\n		<li class="gap" tabindex="1"></li>\n		<li class="item rename" id="renameFile" data-action="file.showRename" aria-label="重命名" tabindex="1">重命名</li>\n		<li class="item forever disable" id="foreverFile" data-action="file.permanent" aria-label="转存为永久文件" tabindex="-1">转存为永久文件</li>\n		'),l=10,G.info.isAdmin&&(f('\n		<li class="item " id="fileMove" data-action="file.showMove" aria-label="移动" tabindex="-1">移动</li>\n		'),l=12),f('\n		<li class="item jubao" id="fileJubao" data-action="file.jubao" aria-label="举报" tabindex="1">举报</li>\n		<li class="gap" tabindex="1"></li>\n		<li class="item delete with-icon-item" data-action="file.delete" id="fileDelete" aria-label="删除" tabindex="1"><span class="icons-trash"></span><span class="menu-item-label">删除</span></li>\n'),l=16,c.join("")}catch(p){n(p,s,d,l)}}},function(e){e.exports=function(e,t,a,n){function i(e){return o[e]||e}n=n||function(e,t,a,n){var i=t.split("\n"),o=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(o,r).map(function(e,t){var a=t+o+1;return(a==n?" >> ":"    ")+a+"| "+e}).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e},t=t||function(e){return void 0==e?"":String(e).replace(r,i)};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g,l=1,s='		<li class="download-item with-icon-item download-folder" id="folderDownloadLink" data-action="folder.download"><span class="icons-download"></span><span class="menu-item-label">下载</span></li>\n		<li class="with-icon-item open-in-folder disable" id="showInFolderLink" data-action="folder.openfolder"><span class="icons-menu-save-as"></span><span class="menu-item-label">在文件夹中显示</span></li>\n		<%if(locals.isAdmin){%>\n		<li class="rename-item" id="folderRenameLink" data-action="folder.showRenameFolder">重命名</li>\n		<%}%>\n		<li class="property-item" id="folderPropLink" data-action="folder.property">文件夹属性</li>\n		<li class="gap"></li>\n		<%if(locals.isAdmin){%>\n		<li class="delete-item with-icon-item" id="folderDeleteLink" data-action="folder.showDeleteFolder"><span class="icons-trash"></span><span class="menu-item-label">删除</span></li>\n		<%}else{%>\n		<li class="item jubao" data-action="file.jubao" id="folderJubaoLink" aria-label="举报" tabindex="1">举报</li>\n		<%}%>\n',d="D:\\qun\\clt_filetab\\src\\tpl\\folderMenu.ejs";try{var c=[],f=c.push.bind(c);return f('		<li class="download-item with-icon-item download-folder" id="folderDownloadLink" data-action="folder.download"><span class="icons-download"></span><span class="menu-item-label">下载</span></li>\n		<li class="with-icon-item open-in-folder disable" id="showInFolderLink" data-action="folder.openfolder"><span class="icons-menu-save-as"></span><span class="menu-item-label">在文件夹中显示</span></li>\n		'),l=3,e.isAdmin&&(f('\n		<li class="rename-item" id="folderRenameLink" data-action="folder.showRenameFolder">重命名</li>\n		'),l=5),f('\n		<li class="property-item" id="folderPropLink" data-action="folder.property">文件夹属性</li>\n		<li class="gap"></li>\n		'),l=8,e.isAdmin?(f('\n		<li class="delete-item with-icon-item" id="folderDeleteLink" data-action="folder.showDeleteFolder"><span class="icons-trash"></span><span class="menu-item-label">删除</span></li>\n		'),l=10):(f('\n		<li class="item jubao" data-action="file.jubao" id="folderJubaoLink" aria-label="举报" tabindex="1">举报</li>\n		'),l=12),f("\n"),l=13,c.join("")}catch(p){n(p,s,d,l)}}},function(e,t,a){"use strict";function n(e){if(console.warn("------新任务---------"),e.taskStarttime=parseInt((new Date).getTime()/1e3,10),"download"!==e.type||2!==e.downloadtasktype)$(G.handler).trigger("client.addTask",e);else{var t=e.foldertaskid,a=o.getOneTask(t);a&&(a.fileTaskList||(a.fileTaskList=[]),a.fileTaskList.push(e.id))}QReport.monitor(i[e.type])}var i={upload:2186487,continueupload:2186489,download:2186490},o=a(31);e.exports=n},function(e,t,a){"use strict";function n(e){var t=i.task2file(e);if(G.file||(G.file={}),G.file&&"undefined"==typeof G.file.cu&&(G.file.cu=0),"downloadcomplete"===e.status){if(2!==e.downloadtasktype&&o.updateRow(t),t.parentId&&"/"!==t.parentId){var a=i.getData(t.parentId);a&&(a.downNum++,a.downNum===a.filenum&&(a.isDown=!0,a.succ=!0,o.updateRow(a)))}}else{if(G.file.cu+=t.size,G.file.capacityused=d.getSize(G.file.cu),o.renderSpace(),t.folderpath!==G.nowFolder&&t.folderpath){var a=i.getData(e.folderpath);a.filenum++;var n=parseInt((new Date).getTime()/1e3,10);a.mt=n,a.mtStr=s.dayStr(n),a.toFirst=!0,o.updateRow(a)}else o.appendFile(t);i.updateAllNum({files:[t],action:"add"})}r.set(t),report("showTaskShow"),console.log("task complete",t),l.trigger("client.updateTask",e)}var i=a(30),o=a(6),r=a(2),l=$(G.handler),s=a(128),d=a(123);e.exports=n},function(e){"use strict";function t(e){a.trigger("client.updateTask",e)}var a=$(G.handler);e.exports=t},function(e){"use strict";function t(e){a.trigger("client.updateTask",e)}var a=$(G.handler);e.exports=t},function(e){"use strict";function t(e){e.createtime=parseInt((new Date).getTime()/1e3,10),"uploadprogress"===e.status&&setTimeout(function(){$(G.handler).trigger("box.show",e)},20),1===e.remotetype,"download"===e.type,a.trigger("client.updateTask",e)}var a=$(G.handler);e.exports=t},function(e,t,a){"use strict";function n(e){var t=e.filepath,a=e.localpath,n=e.filename_esc||e.filename,i=e.remotetype;o.addContinueUploadTask(t,a,n,i)}function i(e){r.trigger("client.updateTask",e);var t=l[e.type],a=t[e.status];if(a&&QReport.monitor(a),e.errorcode||e.securityattri){var i=e.errorcode;if(32221991===i)return n(e),void 0}}var o=a(32),r=$(G.handler),l={upload:{cancel:2186633,remove:2186634,scanfail:2186635,uploadsecurityfail:2186636,uploadgeturlfail:2186637,uploadfail:2186491,_default:2186638},continueupload:{cancel:2186639,remove:2186640,scanfail:2186641,uploadsecurityfail:2186642,uploadgeturlfail:2186643,uploadfail:2186491,_default:2186644},download:{cancel:2186645,remove:2186646,downloadgeturlfail:2186647,downloadfail:386331,_default:2186648}};e.exports=i},function(e,t,a){var n=a(204);e.exports=function(e){var t,a=[],i=e||{};return function(e,i){a.push('<!--文件夹树模板--><ul data-action="file_active" role="tree" class="primary-folder-list"><li'+n.attr("data-id",""+i.id,!0,!1)+' data-action="folderTree.select" class="folder-list-item"><div class="whole-row"> </div><div class="folder-info"><span class="little-folder-icon"></span><span class="folder-name">'+(null==(t=i.fname)?"":t)+'</span><a href="javascript:void(0)"'+n.attr("data-id",""+i.id,!0,!1)+' data-action="folderTree.select" role="treeitem" tabindex="3"'+n.attr("aria-label","选择文件夹:"+i.fname,!0,!1)+' class="aria-hide"></a></div><ul class="secondary-folder-list">'),function(){var i=e;if("number"==typeof i.length)for(var o=0,r=i.length;r>o;o++){var l=i[o];a.push("<li"+n.attr("data-id",""+(l&&l.id),!0,!1)+' data-action="folderTree.select" class="folder-list-item"><div class="whole-row"></div><div class="folder-info"><div class="little-folder-icon"></div><div class="folder-name">'+(null==(t=l&&l.fname)?"":t)+'</div><a href="javascript:void(0)"'+n.attr("data-id",""+(l&&l.id),!0,!1)+' data-action="folderTree.select" role="treeitem" tabindex="3"'+n.attr("aria-label","选择文件夹:"+(l&&l.fname),!0,!1)+' class="aria-hide"></a></div></li>')}else{var r=0;for(var o in i){r++;var l=i[o];a.push("<li"+n.attr("data-id",""+(l&&l.id),!0,!1)+' data-action="folderTree.select" class="folder-list-item"><div class="whole-row"></div><div class="folder-info"><div class="little-folder-icon"></div><div class="folder-name">'+(null==(t=l&&l.fname)?"":t)+'</div><a href="javascript:void(0)"'+n.attr("data-id",""+(l&&l.id),!0,!1)+' data-action="folderTree.select" role="treeitem" tabindex="3"'+n.attr("aria-label","选择文件夹:"+(l&&l.fname),!0,!1)+' class="aria-hide"></a></div></li>')}}}.call(this),a.push("</ul></li></ul>")}.call(this,"items"in i?i.items:"undefined"!=typeof items?items:void 0,"topFolder"in i?i.topFolder:"undefined"!=typeof topFolder?topFolder:void 0,"undefined"in i?i.undefined:void 0),a.join("")}},function(e,t,a){a(204);e.exports=function(){var e=[];return e.push('<li data-id="new" data-action="folderTree.select" class="folder-list-item"><div class="whole-row"></div><div class="folder-info"><span class="little-folder-icon"></span><input id="inputFolderNameInFolderTree" value="新建文件夹" data-blur="createInputBlur" data-keyup="folderTree.create" autofocus="true" class="folder-name"/><div class="bubble"><span class="bot"></span><span class="top"></span>文件夹名称中含有违禁词</div></div></li>'),e.join("")}},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return null!=e&&""!==e}function i(e){return(Array.isArray(e)?e.map(i):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(n).join(" ")}t.merge=function o(e,t){if(1===arguments.length){for(var a=e[0],i=1;i<e.length;i++)a=o(a,e[i]);return a}var r=e["class"],l=t["class"];(r||l)&&(r=r||[],l=l||[],Array.isArray(r)||(r=[r]),Array.isArray(l)||(l=[l]),e["class"]=r.concat(l).filter(n));for(var s in t)"class"!=s&&(e[s]=t[s]);return e},t.joinClasses=i,t.cls=function(e,a){for(var n=[],o=0;o<e.length;o++)a&&a[o]?n.push(t.escape(i([e[o]]))):n.push(i(e[o]));var r=i(n);return r.length?' class="'+r+'"':""},t.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},t.attr=function(e,a,n,i){return"style"===e&&(a=t.style(a)),"boolean"==typeof a||null==a?a?" "+(i?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof a?(-1!==JSON.stringify(a).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),a&&"function"==typeof a.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(a).replace(/'/g,"&apos;")+"'"):n?(a&&"function"==typeof a.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t.escape(a)+'"'):(a&&"function"==typeof a.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+a+'"')},t.attrs=function(e,a){var n=[],o=Object.keys(e);if(o.length)for(var r=0;r<o.length;++r){var l=o[r],s=e[l];"class"==l?(s=i(s))&&n.push(" "+l+'="'+s+'"'):n.push(t.attr(l,s,!1,a))}return n.join("")},t.escape=function(e){var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return t===""+e?e:t},t.rethrow=function r(e,t,n,i){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&t||i))throw e.message+=" on line "+n,e;try{i=i||a(205).readFileSync(t,"utf8")}catch(o){r(e,null,n)}var l=3,s=i.split("\n"),d=Math.max(n-l,0),c=Math.min(s.length,n+l),l=s.slice(d,c).map(function(e,t){var a=t+d+1;return(a==n?"  > ":"    ")+a+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+n+"\n"+l+"\n\n"+e.message,e}},function(){}]);